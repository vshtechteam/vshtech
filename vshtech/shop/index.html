<!DOCTYPE html>
<html lang="vi">

<head>

    <meta charset="utf-8" />
    <title>Website Bán Hack Uy Tín Số 1 VN - CanhiOSCrack</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link rel="shortcut icon" href="https://cheatiosvip.com/upload/theme/favicon_L38.png" type="image/x-icon">
    <meta content="" name="author" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cheatiosvip.com/" />
    <meta property="og:description" content="" />

    <meta property="og:image" content="https://cheatiosvip.com/upload/theme/banner_B4U.png" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cheatiosvip.com/assets/css/sieuthicode.css">
    <link rel="stylesheet" type="text/css" href="https://cheatiosvip.com/assets/frontend/css/toastr.min.css" />
    <script src="https://cheatiosvip.com/assets/frontend/js/jquery-3.4.1.min.js"></script>
    <script src="https://cheatiosvip.com/assets/frontend/js/sweetaert.min.js"></script>

    <link rel='stylesheet prefetch'
        href='https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.css'>
    <script src="https://cheatiosvip.com/assets/frontend/js/loading.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Google reCAPTCHA v2 -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    
    <!-- <script id="NguyenNhatLoc-AntiDevTools">
        console.log("%c Xin chào các cao thủ F12 %c", 'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:50px;color:#FF0000;-webkit-text-fill-color:#FF0000;-webkit-text-stroke: 1px #FF0000;', "font-size:12px;color:#999999;");
        console.log("%c Thuê tạo website vui lòng liên hệ https://www.facebook.com/nguyennhatloc %c", 'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:50px;color:#FF0000;-webkit-text-fill-color:#FF0000;-webkit-text-stroke: 1px #FF0000;', "font-size:12px;color:#999999;");
        console.log("%c SIEUTHICODE.NET %c", 'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:50px;color:#FF0000;-webkit-text-fill-color:#FF0000;-webkit-text-stroke: 1px #FF0000;', "font-size:12px;color:#999999;");
        setInterval(function () {
            var before = new Date().getTime();
            debugger;            var after = new Date().getTime();
            if (after - before > 200) {
                document.querySelector("html").innerHTML = "";
                window.location.reload(true);
            }
        }, 100);
        document.getElementById("NguyenNhatLoc-AntiDevTools").remove();
    </script> -->
    
    <!-- reCAPTCHA Helper Functions -->
    <script>
        // Global reCAPTCHA functions
        function onRecaptchaSuccess(token) {
            console.log('reCAPTCHA verified successfully');
            // Enable submit button if it was disabled
            const submitBtns = document.querySelectorAll('button[type="submit"], input[type="submit"]');
            submitBtns.forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('disabled');
            });
        }
        
        function onRecaptchaExpired() {
            console.log('reCAPTCHA expired');
            // Disable submit button
            const submitBtns = document.querySelectorAll('button[type="submit"], input[type="submit"]');
            submitBtns.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('disabled');
            });
        }
        
        function onRecaptchaError() {
            console.log('reCAPTCHA error');
            alert('reCAPTCHA verification failed. Please try again.');
        }
        
        // Check if reCAPTCHA is completed before form submission
        function validateRecaptcha(formElement) {
            const recaptchaResponse = grecaptcha.getResponse();
            if (recaptchaResponse.length === 0) {
                alert('Vui lòng xác thực reCAPTCHA trước khi gửi form!');
                return false;
            }
            return true;
        }
        
        // Auto-attach reCAPTCHA validation to forms
        document.addEventListener('DOMContentLoaded', function() {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                // Skip forms that don't need captcha (like search forms)
                const skipForms = ['search-form', 'filter-form', 'quick-search'];
                const hasSkipClass = skipForms.some(className => form.classList.contains(className));
                
                if (!hasSkipClass && form.querySelector('.g-recaptcha')) {
                    form.addEventListener('submit', function(e) {
                        if (!validateRecaptcha(this)) {
                            e.preventDefault();
                            return false;
                        }
                    });
                }
            });
        });
    </script>
</head>
<style>
/* Modern Header Variables */
:root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --dark-bg: #0f0f23;
    --darker-bg: #1a1a2e;
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --text-primary: #ffffff;
    --text-secondary: #b4b7c1;
    --text-accent: #64ffda;
    --shadow-sm: 0 2px 10px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 8px 30px rgba(0, 0, 0, 0.12);
    --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.15);
    --border-radius: 16px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', 'Poppins', sans-serif;
    background: var(--dark-bg);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
}

/* Modern Header Styles */
.modern-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--glass-border);
    z-index: 1000;
    transition: var(--transition);
}

.modern-header.scrolled {
    height: 70px;
    background: rgba(15, 15, 35, 0.98);
    box-shadow: var(--shadow-md);
}

.header-container {
    max-width: 1400px;
    margin: 0 auto;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 30px;
}

/* Logo Section */
.logo-section {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    transition: var(--transition);
}

.logo-section:hover {
    transform: translateY(-2px) scale(1.02);
}

.logo-section:active {
    transform: translateY(-1px) scale(1.01);
    transition: all 0.1s ease;
}

.logo-section img {
    width: 45px;
    height: 45px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
    transition: var(--transition);
}

.logo-section:hover img {
    box-shadow: 0 8px 30px rgba(102, 126, 234, 0.5);
    transform: scale(1.05);
}

.logo-text {
    display: flex;
    flex-direction: column;
}

.logo-title {
    font-size: 20px;
    font-weight: 700;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
}

.logo-subtitle {
    font-size: 11px;
    color: var(--text-accent);
    font-weight: 500;
    letter-spacing: 1.5px;
    text-transform: uppercase;
}

/* Navigation Menu */
.nav-menu {
    display: flex;
    align-items: center;
    gap: 8px;
    list-style: none;
}

.nav-item {
    position: relative;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 500;
    font-size: 14px;
    padding: 12px 18px;
    border-radius: 12px;
    transition: var(--transition);
    position: relative;
    overflow: hidden;
    white-space: nowrap;
}

.nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--primary-gradient);
    transition: left 0.4s ease;
    z-index: -1;
    opacity: 0.15;
}

.nav-link:hover::before {
    left: 0;
}

.nav-link:hover {
    color: var(--text-primary);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.25);
}

.nav-link i {
    font-size: 16px;
    transition: var(--transition);
}

.nav-link:hover i {
    transform: scale(1.1);
}

/* Badge Styling */
.badge {
    background: var(--secondary-gradient);
    color: white;
    font-size: 10px;
    font-weight: 600;
    padding: 4px 8px;
    border-radius: 20px;
    margin-left: 6px;
    animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
    from { box-shadow: 0 0 5px rgba(245, 87, 108, 0.5); }
    to { box-shadow: 0 0 15px rgba(245, 87, 108, 0.8); }
}

/* Dropdown Menu */
.dropdown {
    position: absolute;
    top: calc(100% + 10px);
    left: 0;
    min-width: 260px;
    background: rgba(26, 26, 46, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-lg);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: var(--transition);
    z-index: 1001;
    overflow: hidden;
    box-sizing: border-box;
}

.nav-item:hover .dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    color: var(--text-primary);
    text-decoration: none;
    padding: 15px 20px;
    transition: var(--transition);
    border-radius: 12px;
    margin: 5px;
    position: relative;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    max-width: calc(100% - 10px);
    box-sizing: border-box;
}

.dropdown-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--accent-gradient);
    transition: left 0.3s ease;
    z-index: -1;
    opacity: 0.1;
}

.dropdown-item:hover::before {
    left: 0;
}

.dropdown-item:hover {
    transform: translateX(2px);
    color: var(--text-primary);
}

/* User Section */
.user-section {
    display: flex;
    align-items: center;
    gap: 15px;
}

.auth-buttons {
    display: flex;
    align-items: center;
    gap: 12px;
}

.btn {
    padding: 10px 20px;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    font-size: 13px;
    /* Removed transition effects */
    display: flex;
    align-items: center;
    gap: 8px;
    border: none;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.btn-register {
    background: transparent;
    color: var(--text-primary);
    border: 2px solid var(--glass-border);
}

.btn-register:hover {
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.1);
    /* Removed all transform and animation effects */
}

.btn-register:active {
    /* Removed all transform and animation effects */
}

.btn-login {
    background: var(--primary-gradient);
    color: white;
    /* Box-shadow effect removed */
}

.btn-login:hover {
    /* Removed all transform and animation effects */
}

.btn-login:active {
    /* Removed all transform and animation effects */
}

/* User Info */
.user-info {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 16px;
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
}

.user-info:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
    border-color: rgba(102, 126, 234, 0.3);
}

.user-info:active {
    transform: translateY(-1px) scale(1.01);
    transition: all 0.1s ease;
}

.user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 12px;
    background: var(--primary-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    color: white;
    box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.user-info:hover .user-avatar {
    transform: scale(1.1) rotate(3deg);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    border-radius: 50%;
}

.user-avatar::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transform: rotate(45deg);
    transition: all 0.6s ease;
    opacity: 0;
}

.user-info:hover .user-avatar::before {
    opacity: 1;
    animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

.user-details {
    display: flex;
    flex-direction: column;
}

.user-name {
    font-weight: 600;
    font-size: 13px;
    color: var(--text-primary);
    line-height: 1.2;
}

.user-balance {
    font-size: 11px;
    color: var(--text-accent);
    font-weight: 500;
    position: relative;
    transition: all 0.3s ease;
}

.user-info:hover .user-balance {
    color: var(--primary-color);
    transform: scale(1.05);
    text-shadow: 0 0 8px rgba(102, 126, 234, 0.3);
}

/* Special effect for balance numbers */
.balance-amount {
    display: inline-block;
    transition: all 0.3s ease;
}

.user-info:hover .balance-amount {
    animation: countUp 0.3s ease;
}

@keyframes countUp {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); color: #667eea; }
    100% { transform: scale(1.05); }
}

/* Mobile Admin Button */
.mobile-admin-btn {
    display: none !important;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white !important;
    text-decoration: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    transition: all 0.3s ease;
    border: 1px solid rgba(102, 126, 234, 0.3);
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    min-height: 44px;
    white-space: nowrap;
    margin-right: 8px;
}

.mobile-admin-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
}

.mobile-admin-btn i {
    font-size: 14px;
}

/* Mobile Toggle */
.mobile-toggle {
    display: none;
    flex-direction: column;
    gap: 4px;
    cursor: pointer;
    padding: 10px;
    border-radius: 8px;
    transition: var(--transition);
    z-index: 1002;
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    min-width: 44px;
    min-height: 44px;
    justify-content: center;
    align-items: center;
}

.mobile-toggle:hover {
    background: var(--glass-bg);
    transform: scale(1.05);
}

.mobile-toggle:active {
    transform: scale(0.95);
    background: rgba(255, 255, 255, 0.2);
}

.mobile-toggle span {
    width: 24px;
    height: 3px;
    background: var(--text-primary);
    border-radius: 2px;
    transition: var(--transition);
    display: block;
}

.mobile-toggle.active span:nth-child(1) {
    transform: rotate(45deg) translate(6px, 6px);
}

.mobile-toggle.active span:nth-child(2) {
    opacity: 0;
}

.mobile-toggle.active span:nth-child(3) {
    transform: rotate(-45deg) translate(6px, -6px);
}

/* Mobile Menu */
.mobile-menu {
    position: fixed;
    top: 80px;
    left: 0;
    width: 100%;
    height: calc(100vh - 80px);
    background: rgba(15, 15, 35, 0.98);
    backdrop-filter: blur(20px);
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-20px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
}

.mobile-menu.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.mobile-nav {
    padding: 30px 20px;
}

.mobile-nav-item {
    margin-bottom: 20px;
}

.mobile-nav-link {
    display: flex;
    align-items: center;
    gap: 15px;
    color: var(--text-primary);
    text-decoration: none;
    font-weight: 500;
    font-size: 16px;
    padding: 15px 20px;
    border-radius: 12px;
    transition: var(--transition);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-nav-link:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
}

.mobile-nav-link i {
    font-size: 18px;
    width: 24px;
    text-align: center;
}

.mobile-auth-section {
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-auth-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.mobile-user-info {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
}

.mobile-user-info .user-name {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
}

.mobile-user-info .user-balance {
    font-size: 14px;
    color: var(--text-accent);
}

/* Mobile Responsive */
@media (max-width: 1024px) {
    .nav-menu {
        display: none;
    }
    
    .mobile-toggle {
        display: flex;
    }
    
    .mobile-admin-btn {
        display: flex !important;
    }
    
    .header-container {
        padding: 0 20px;
    }
    
    .logo-text {
        display: flex;
    }
    
    .logo-title {
        font-size: 18px;
    }
    
    .logo-subtitle {
        font-size: 10px;
    }
    
    /* Hide user section elements on tablet and below */
    .user-section > a[href*="admin_cpanel"] {
        display: none;
    }
}

@media (max-width: 768px) {
    .modern-header {
        height: 70px;
    }
    
    .modern-header.scrolled {
        height: 60px;
    }
    
    .header-container {
        padding: 0 15px;
    }
    
    .logo-text {
        display: flex;
    }
    
    .logo-title {
        font-size: 16px;
    }
    
    .logo-subtitle {
        font-size: 9px;
    }
    
    .auth-buttons {
        display: none;
    }
    
    .user-details {
        display: none;
    }
    
    /* Hide entire user section on mobile */
    .user-section .nav-item {
        display: none !important;
    }
    
    /* Hide user info dropdown on mobile */
    .user-info {
        display: none !important;
    }
    
    /* Hide admin button on mobile */
    .user-section > .btn-login[href*="admin_cpanel"] {
        display: none !important;
    }
    
    /* Hide any dropdown menus in user section */
    .user-section .dropdown {
        display: none !important;
    }
    
    .mobile-menu {
        top: 70px;
        height: calc(100vh - 70px);
    }
    
    .mobile-toggle {
        margin-left: 10px;
    }
}

@media (max-width: 480px) {
    .logo-section img {
        width: 32px;
        height: 32px;
    }
    
    .logo-text {
        display: flex;
    }
    
    .logo-title {
        font-size: 14px;
        line-height: 1.1;
    }
    
    .logo-subtitle {
        font-size: 8px;
        letter-spacing: 1px;
    }
    
    .mobile-toggle {
        padding: 8px;
        min-width: 40px;
        min-height: 40px;
    }
    
    .mobile-toggle span {
        width: 20px;
        height: 2px;
    }
    
    .modern-header {
        height: 65px;
    }
    
    .modern-header.scrolled {
        height: 55px;
    }
    
    .mobile-menu {
        top: 65px;
        height: calc(100vh - 65px);
    }
    
    .header-container {
        padding: 0 10px;
    }
    
    /* Ensure only logo and mobile toggle are visible */
    .user-section {
        width: auto;
    }
    
    .user-section > * {
        display: none !important;
    }
    
    .user-section .mobile-toggle {
        display: flex !important;
    }
    
    .user-section .mobile-admin-btn {
        display: flex !important;
    }
}

/* Touch-friendly improvements for mobile devices */
@media (hover: none) and (pointer: coarse) {
    .mobile-toggle {
        min-width: 48px;
        min-height: 48px;
        padding: 12px;
    }
    
    .mobile-nav-link {
        min-height: 48px;
        padding: 16px 20px;
    }
    
    .btn {
        min-height: 48px;
        padding: 14px 24px;
    }
}

/* Scroll Effects */
html {
    scroll-padding-top: 80px;
}

.header-animate {
    animation: slideDown 0.5s ease-out;
}

@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Enhanced Hover Effects */
.nav-link, .btn, .dropdown-item {
    position: relative;
}

/* Fix user dropdown overflow and positioning */
.user-section .dropdown {
    right: 0;
    left: auto;
    transform: translateY(-10px);
    min-width: 280px;
    max-width: 300px;
    box-sizing: border-box;
}

.user-section .nav-item:hover .dropdown {
    transform: translateY(0);
}

/* Prevent dropdown items from overflowing */
.user-section .dropdown-item {
    max-width: calc(100% - 10px);
    box-sizing: border-box;
}

.user-section .dropdown-item span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 220px;
    display: inline-block;
}

/* Ripple effects removed for buttons */

/* Enhanced Interactive Animations */
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.4); }
    50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(102, 126, 234, 0); }
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }
    40%, 43% { transform: translate3d(0, -8px, 0); }
    70% { transform: translate3d(0, -4px, 0); }
    90% { transform: translate3d(0, -2px, 0); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
}

/* Enhanced hover effects for nav items */
.nav-item:focus-within {
    animation: pulse 0.6s ease-in-out;
}

/* Bounce effect for buttons removed */

/* Smooth glow effect for important elements */
.user-info:hover::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #667eea, #764ba2, #667eea);
    border-radius: 18px;
    z-index: -1;
    animation: pulse 2s infinite;
    opacity: 0.3;
}

/* Chat Widget Styles */
.chat-widget {
    position: fixed;
    bottom: 80px;
    right: 20px;
    z-index: 10000;
    font-family: 'Inter', 'Poppins', sans-serif;
}

.chat-toggle {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    animation: pulse 2s infinite;
}

.chat-toggle:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
}

.chat-toggle i {
    color: white;
    font-size: 24px;
    transition: transform 0.3s ease;
}

.chat-toggle:hover i {
    transform: scale(1.1);
}

.chat-notification {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #ff4757;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    animation: bounce 1s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

/* Online Status Button Animations */
@keyframes online-pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 
            0 0 8px rgba(39, 174, 96, 0.6),
            0 0 16px rgba(39, 174, 96, 0.3);
    }
    50% {
        transform: scale(1.1);
        box-shadow: 
            0 0 12px rgba(39, 174, 96, 0.8),
            0 0 24px rgba(39, 174, 96, 0.5),
            0 0 32px rgba(39, 174, 96, 0.2);
    }
}

@keyframes online-glow {
    0% {
        background: linear-gradient(135deg, #27ae60 0%, #2ecc71 50%, #00ff88 100%);
        filter: brightness(1) saturate(1);
    }
    100% {
        background: linear-gradient(135deg, #2ecc71 0%, #00ff88 50%, #27ae60 100%);
        filter: brightness(1.2) saturate(1.3);
    }
}

@keyframes status-wave {
    0% {
        transform: translateX(-100%) scale(0.8);
        opacity: 0;
    }
    50% {
        transform: translateX(0%) scale(1);
        opacity: 1;
    }
    100% {
        transform: translateX(100%) scale(0.8);
        opacity: 0;
    }
}

@keyframes welcome-bounce {
    0%, 100% {
        transform: translateY(0) scale(1);
    }
    50% {
        transform: translateY(-5px) scale(1.05);
    }
}

.chat-window {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 400px;
    height: 550px;
    background: rgba(26, 26, 46, 0.98);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.chat-window.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.chat-header {
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    border-radius: 20px 20px 0 0;
    flex-shrink: 0;
}

.chat-user-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.chat-avatar {
    width: 45px;
    height: 45px;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
}

.chat-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.avatar-fallback {
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 18px;
}

.chat-user-details h4 {
    color: white;
    font-size: 16px;
    font-weight: 600;
    margin: 0;
    line-height: 1.2;
}

.status {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    gap: 4px;
}

.status.offline::before {
    content: '';
    width: 10px;
    height: 10px;
    background: #e74c3c;
    border-radius: 50%;
    display: inline-block;
    margin-right: 6px;
    position: relative;
    animation: offline-pulse-dot 2s ease-in-out infinite;
    box-shadow: 
        0 0 0 2px rgba(231, 76, 60, 0.3),
        0 0 6px rgba(231, 76, 60, 0.5);
}

.status.offline {
    border-radius: 20px;
    padding: 6px 12px;
    font-weight: 600;
    letter-spacing: 0.5px;
    font-size: 11px;
    color: #e74c3c;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.status.online::before {
    content: '';
    width: 10px;
    height: 10px;
    background: #27ae60;
    border-radius: 50%;
    display: inline-block;
    margin-right: 6px;
    position: relative;
    animation: online-pulse-dot 2s ease-in-out infinite;
    box-shadow: 
        0 0 0 2px rgba(39, 174, 96, 0.3),
        0 0 6px rgba(39, 174, 96, 0.5);
}

.status.online {
    border-radius: 20px;
    padding: 6px 12px;
    font-weight: 600;
    letter-spacing: 0.5px;
    font-size: 11px;
    color: #27ae60;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.status.online:hover {
    transform: translateY(-1px) scale(1.05);
}

.status.online::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.6s;
}

.status.online:hover::after {
    left: 100%;
}

/* Additional wave effect for online status */
.status.online::before {
    position: relative;
    z-index: 2;
}

.status.online {
    position: relative;
    z-index: 1;
}

.status.online:active {
    transform: translateY(-1px) scale(0.98);
    transition: transform 0.1s ease;
}

/* Ripple effect when clicked */
.status.online:active::before {
    animation: online-ripple 0.6s ease-out;
}

@keyframes online-ripple {
    0% {
        transform: scale(1);
        box-shadow: 
            0 0 0 0 rgba(39, 174, 96, 0.7),
            0 0 8px rgba(39, 174, 96, 0.6);
    }
    70% {
        transform: scale(1);
        box-shadow: 
            0 0 0 15px rgba(39, 174, 96, 0),
            0 0 8px rgba(39, 174, 96, 0.6);
    }
    100% {
        transform: scale(1);
        box-shadow: 
            0 0 0 0 rgba(39, 174, 96, 0),
            0 0 8px rgba(39, 174, 96, 0.6);
    }
}

/* Modern online dot animation */
@keyframes online-pulse-dot {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
        box-shadow: 
            0 0 0 2px rgba(39, 174, 96, 0.3),
            0 0 6px rgba(39, 174, 96, 0.5);
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
        box-shadow: 
            0 0 0 4px rgba(39, 174, 96, 0.5),
            0 0 12px rgba(39, 174, 96, 0.7),
            0 0 0 8px rgba(39, 174, 96, 0.1);
    }
}

/* Modern offline dot animation */
@keyframes offline-pulse-dot {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
        box-shadow: 
            0 0 0 2px rgba(231, 76, 60, 0.3),
            0 0 6px rgba(231, 76, 60, 0.5);
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
        box-shadow: 
            0 0 0 4px rgba(231, 76, 60, 0.5),
            0 0 12px rgba(231, 76, 60, 0.7),
            0 0 0 8px rgba(231, 76, 60, 0.1);
    }
}

.chat-close {
    width: 35px;
    height: 35px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.chat-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

.chat-close i {
    color: white;
    font-size: 14px;
}

.chat-status-bar {
    background: #f39c12;
    color: white;
    padding: 8px 20px;
    font-size: 12px;
    text-align: center;
    font-weight: 500;
}

.chat-body {
    padding: 15px 20px;
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    background: rgba(20, 20, 35, 0.95);
}

.chat-login-form {
    text-align: center;
    width: 100%;
}

.login-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
}

.login-icon i {
    color: white;
    font-size: 24px;
}

.chat-login-form h3 {
    color: white;
    font-size: 20px;
    font-weight: 600;
    margin: 0 0 10px;
}

.chat-login-form p {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
    margin: 0 0 25px;
    line-height: 1.5;
}

.chat-welcome {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100%;
    padding: 20px;
}

.chat-welcome h3 {
    color: white;
    font-size: 18px;
    font-weight: 600;
    margin: 0 0 10px;
}

.chat-welcome p {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
    margin: 0;
    opacity: 0.8;
}

.quick-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    padding: 15px 20px;
    background: rgba(20, 20, 35, 0.95);
    flex-shrink: 0;
}

.quick-btn {
    padding: 12px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 500;
}

.quick-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
}

.quick-btn i {
    font-size: 14px;
}

.chat-input-area {
    display: flex;
    gap: 10px;
    padding: 15px 20px;
    background: rgba(20, 20, 35, 0.95);
    border-radius: 0 0 20px 20px;
    flex-shrink: 0;
}

/* Hide chat input when not logged in */
.chat-input-area.hidden {
    display: none !important;
}

.chat-input-area input {
    flex: 1;
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    color: white;
    font-size: 14px;
    outline: none;
    transition: all 0.3s ease;
}

.chat-input-area input:focus {
    border-color: #667eea;
    background: rgba(255, 255, 255, 0.15);
}

.chat-input-area input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.chat-input-area input:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.send-btn {
    width: 45px;
    height: 45px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.send-btn:hover:not(:disabled) {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.send-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.send-btn i {
    font-size: 16px;
}

/* Chat Emoji and Attachment Buttons */
.chat-emoji-btn,
.chat-attachment-btn {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    color: rgba(255, 255, 255, 0.8);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 16px;
    position: relative;
    overflow: hidden;
    z-index: 10;
    pointer-events: auto;
    flex-shrink: 0;
}

.chat-emoji-btn:hover:not(:disabled),
.chat-attachment-btn:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.2);
    border-color: #667eea;
    color: #667eea;
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
}

.chat-emoji-btn:active:not(:disabled),
.chat-attachment-btn:active:not(:disabled) {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

.chat-emoji-btn:disabled,
.chat-attachment-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    transform: none;
}

.chat-emoji-btn i,
.chat-attachment-btn i {
    transition: transform 0.3s ease;
}

.chat-emoji-btn:hover:not(:disabled) i,
.chat-attachment-btn:hover:not(:disabled) i {
    transform: scale(1.1) rotate(5deg);
}

/* Emoji Picker Styles */
.emoji-picker {
    position: absolute;
    bottom: 70px;
    right: 20px;
    width: 300px;
    height: 250px;
    background: rgba(26, 26, 46, 0.98);
    backdrop-filter: blur(20px);
    z-index: 1000;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    display: none;
    z-index: 10001;
    overflow: hidden;
}

.emoji-picker-header {
    padding: 15px 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-weight: 600;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.emoji-picker-close {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 16px;
    padding: 5px;
    border-radius: 50%;
    transition: background 0.3s ease;
}

.emoji-picker-close:hover {
    background: rgba(255, 255, 255, 0.2);
}

.emoji-picker-content {
    padding: 15px;
    height: calc(100% - 50px);
    overflow-y: auto;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 5px;
    align-content: start;
}

.emoji-item {
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    background: transparent;
    border: none;
}

.emoji-item:hover {
    background: rgba(102, 126, 234, 0.2);
    transform: scale(1.2);
}

.emoji-item:active {
    transform: scale(0.9);
}

/* Prevent scrolling when mobile menu is open */
body.mobile-menu-open {
    overflow: hidden;
}

/* Adjust chat widget z-index to be below mobile menu */
.chat-widget {
    z-index: 999;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .chat-widget {
        bottom: 75px;
        right: 15px;
        z-index: 999;
    }

    .chat-window {
        width: calc(100vw - 30px);
        right: -10px;
        height: 450px;
    }

    .chat-toggle {
        width: 55px;
        height: 55px;
    }

    .chat-toggle i {
        font-size: 22px;
    }
    
    /* Ensure mobile menu is above chat */
    .mobile-menu {
        z-index: 1001;
    }
    
    .mobile-toggle {
        z-index: 1002;
    }
}
</style>

<body>
    <!-- preloader -->
    <div id="preloader">
		<div id="loading-center">
			<div id="loading-center-absolute">
				<img src="https://i.imgur.com/2O5frDV.gif" alt="Loading..." style="width: 80px; height: 80px; object-fit: contain;">
			</div>
		</div>
	</div>
    <!-- preloader-end -->
    <!-- Modern Header -->
    <header class="modern-header header-animate" id="modernHeader">
        <div class="header-container">
            <!-- Logo Section -->
            <a href="/" class="logo-section">
                <img src="https://cheatiosvip.com//upload/theme/logo_light_KU2.png" alt="Logo">
                <div class="logo-text">
                    <div class="logo-title">CheatiOSVip.Com</div>
                    <div class="logo-subtitle">IOS CHEATS</div>
                </div>
            </a>

            <!-- Navigation Menu -->
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="/" class="nav-link">
                            <i class="fas fa-home"></i>
                            <span>Trang chủ</span>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-credit-card"></i>
                            <span>Nạp tiền</span>
                            <i class="fas fa-chevron-down" style="font-size: 10px; margin-left: 4px;"></i>
                        </a>
                        <div class="dropdown">
                            <a href="javascript:void(0)" onclick="checkRechargeLogin('/recharge/card')" class="dropdown-item">
                                <i class="fas fa-mobile-alt"></i>
                                <span>Nạp thẻ cào (auto)</span>
                            </a>
                            <a href="javascript:void(0)" onclick="checkRechargeLogin('/recharge/bank')" class="dropdown-item">
                                <i class="fas fa-university"></i>
                                <span>Nạp qua ATM + MOMO</span>
                            </a>
                        </div>
                    </li>
                    
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-tools"></i>
                            <span>Công Cụ Đa Năng</span>
                            <i class="fas fa-chevron-down" style="font-size: 10px; margin-left: 4px;"></i>
                        </a>
                        <div class="dropdown">
                            <a href="/tools/menu-changer" class="dropdown-item">
                                <i class="fas fa-unlock-alt"></i>
                                <span>Crack - Phá Bảo Mật</span>
                            </a>
                            <a href="javascript:void(0)" onclick="checkToolLogin('/tools/image-uploader.php')" class="dropdown-item">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Up Ảnh Lấy Link</span>
                            </a>
                            <a href="javascript:void(0)" onclick="checkToolLogin('/tools/app-signer.php')" class="dropdown-item">
                                <i class="fas fa-signature"></i>
                                <span>Ký Ứng Dụng</span>
                            </a>
                        </div>
                    </li>
                    
                    <li class="nav-item">
                        <a href="https://t.me/canhioscrack" class="nav-link" target="_blank">
                            <i class="fab fa-telegram"></i>
                            <span>Telegram Giao Lưu</span>
                            <span class="badge">NEW</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- User Section -->
            <div class="user-section">
                                    <div class="auth-buttons">
                        <a href="https://cheatiosvip.com/auth/register" class="btn btn-register">
                            <i class="fas fa-user-plus"></i>
                            <span>Đăng ký</span>
                        </a>
                        <a href="https://cheatiosvip.com/auth/login" class="btn btn-login">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>Đăng nhập</span>
                        </a>
                    </div>
                                
                <!-- Mobile Admin Button (only on mobile) -->
                                
                <!-- Mobile Toggle -->
                <div class="mobile-toggle" id="mobileToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-nav">
            <div class="mobile-nav-item">
                <a href="/" class="mobile-nav-link">
                    <i class="fas fa-home"></i>
                    <span>Trang chủ</span>
                </a>
            </div>
            
            <div class="mobile-nav-item">
                <a href="javascript:void(0)" onclick="checkRechargeLogin('/recharge/card')" class="mobile-nav-link">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Nạp thẻ cào</span>
                </a>
            </div>
            
            <div class="mobile-nav-item">
                <a href="javascript:void(0)" onclick="checkRechargeLogin('/recharge/bank')" class="mobile-nav-link">
                    <i class="fas fa-university"></i>
                    <span>Nạp ATM + MOMO</span>
                </a>
            </div>
            
            <!-- <div class="mobile-nav-item">
                <a href="" target="_blank" class="mobile-nav-link">
                    <i class="fab fa-facebook"></i>
                    <span>Facebook</span>
                </a>
            </div>
            
            <div class="mobile-nav-item">
                <a href="https://www.facebook.com/groups/thichthihax" target="_blank" class="mobile-nav-link">
                    <i class="fab fa-facebook-square"></i>
                    <span>Group Facebook</span>
                </a>
            </div> -->
            
            <div class="mobile-nav-item mobile-dropdown">
                <a href="javascript:void(0)" class="mobile-nav-link mobile-dropdown-toggle">
                    <i class="fas fa-tools"></i>
                    <span>Công Cụ Đa Năng</span>
                    <i class="fas fa-chevron-down mobile-dropdown-arrow" style="margin-left: auto; font-size: 12px; transition: transform 0.3s ease;"></i>
                </a>
                <div class="mobile-dropdown-menu" style="display: none; padding-left: 20px;">
                    <a href="/tools/menu-changer" class="mobile-nav-link" style="padding: 10px 16px; margin: 5px 0; background: rgba(255, 255, 255, 0.05);">
                        <i class="fas fa-unlock-alt"></i>
                        <span>Crack - Phá Bảo Mật</span>
                    </a>
                    <a href="javascript:void(0)" onclick="checkToolLogin('/tools/image-uploader.php')" class="mobile-nav-link" style="padding: 10px 16px; margin: 5px 0; background: rgba(255, 255, 255, 0.05);">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Up Ảnh Lấy Link</span>
                    </a>
                    <a href="javascript:void(0)" onclick="checkToolLogin('/tools/app-signer.php')" class="mobile-nav-link" style="padding: 10px 16px; margin: 5px 0; background: rgba(255, 255, 255, 0.05);">
                        <i class="fas fa-signature"></i>
                        <span>Ký Ứng Dụng</span>
                    </a>
                </div>
            </div>
            
            <div class="mobile-nav-item">
                <a href="https://t.me/canhioscrack" target="_blank" class="mobile-nav-link">
                    <i class="fab fa-telegram"></i>
                    <span>Telegram Giao Lưu</span>
                    <span class="badge" style="margin-left: auto;">NEW</span>
                </a>
            </div>
        </div>
        
        <div class="mobile-auth-section">
                            <div class="mobile-auth-buttons">
                    <a href="https://cheatiosvip.com/auth/register" class="btn btn-register" style="justify-content: center; width: 100%;">
                        <i class="fas fa-user-plus"></i>
                        <span>Đăng ký</span>
                    </a>
                    <a href="https://cheatiosvip.com/auth/login" class="btn btn-login" style="justify-content: center; width: 100%;">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Đăng nhập</span>
                    </a>
                </div>
                    </div>
    </div>
    
    <!-- Spacing for fixed header -->
    <div style="height: 80px;"></div>

    <!-- Chat Support Widget -->
    <div id="chat-support-widget" class="chat-widget">
        <div class="chat-toggle" id="chatToggle">
            <i class="fas fa-comments"></i>
        </div>
        
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-user-info">
                    <div class="chat-avatar">
                        <img src="https://i.imgur.com/qNgnGEn.jpeg" alt="Support" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="avatar-fallback" style="width: 100%; height: 100%; background: rgba(255, 255, 255, 0.2); display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; border-radius: 12px;">
                            <i class="fas fa-user-headset"></i>
                        </div>
                    </div>
                    <div class="chat-user-details">
                        <h4>Live<span style="color: #FFFF00;">Chat</span> <img src="https://i.imgur.com/TytDcM5.png" alt="" style="width: 20px; height: 20px; margin-left: -2px; vertical-align: middle;"></h4>
                        <span class="status online">Đang online</span>
                    </div>
                </div>
                <div class="chat-close" id="chatClose">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            
            <div class="chat-status-bar">
                <span>Mất kết nối - Đang thử lại...</span>
            </div>
            
            <div class="chat-body">
                <!-- Messages will be loaded here -->
                <div class="chat-welcome" style="text-align: center; color: rgba(255, 255, 255, 0.8); margin: 40px 0; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; animation: welcome-bounce 2s ease-in-out infinite;">
                        <i class="fas fa-comments" style="color: white; font-size: 24px;"></i>
                    </div>
                    <h3 id="chat-welcome-title" style="margin: 0 0 10px; font-size: 18px; color: white; transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);">Xin chào! 👋</h3>
                    <p id="chat-subtitle" style="margin: 0; font-size: 14px; opacity: 0.8; color: rgba(255, 255, 255, 0.7); min-height: 20px;"></p>
                </div>
            </div>
            
            <div class="quick-actions">
                <button class="quick-btn">
                    <i class="fas fa-smile"></i>
                    <span>Xin chào</span>
                </button>
                <button class="quick-btn">
                    <i class="fas fa-tag"></i>
                    <span>Bảng giá</span>
                </button>
                <button class="quick-btn">
                    <i class="fas fa-credit-card"></i>
                    <span>Thanh toán</span>
                </button>
                <button class="quick-btn">
                    <i class="fas fa-question-circle"></i>
                    <span>Hỗ trợ</span>
                </button>
            </div>
            
            <div class="chat-input-area">
                <input type="text" placeholder="Nhập tin nhắn..." disabled>
                <button type="button" class="chat-attachment-btn" id="chatAttachmentBtn" title="Gửi ảnh/video">
                    <i class="fas fa-paperclip"></i>
                </button>
                <button type="button" class="chat-emoji-btn" id="chatEmojiBtn" title="Chọn emoji">
                    <i class="fas fa-smile"></i>
                </button>
                <button class="send-btn" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
                <input type="file" id="chatFileInput" accept="image/*,video/*" style="display: none;">
            </div>
        </div>
    </div>

    <!-- JavaScript for Header and Chat Widget -->
    <script>
    
    // Advanced Security Protection System
    (function() {
        'use strict';
        
        // Security Configuration
        const CONFIG = {
            enableDevToolsBlocking: true,
            enableIframeProtection: true,
            enableRightClickBlocking: true,
            enableKeyboardBlocking: true,
            enableConsoleWarning: true,
            enableConsoleAccessDetection: true,
            mobileOptimized: true,
            redirectUrl: 'https://vn2.xvideos69.xxx/',
            warningMessages: {
                devtools: '🚫 Developer tools không được phép sử dụng!',
                iframe: '🚫 Website không thể được nhúng từ trang khác!',
                rightclick: '🚫 Right-click đã bị vô hiệu hóa!',
                console: '⚠️ CẢNH BÁO: Đây là tính năng dành cho developer. Việc sử dụng có thể làm lộ thông tin cá nhân!',
                externalConsole: '🚨 Phát hiện truy cập từ console của website khác!'
            }
        };
        
        // Device Detection with Safari mobile specific handling
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768;
        const isSafari = /Safari/i.test(navigator.userAgent) && /Apple/i.test(navigator.vendor);
        const isSafariMobile = isSafari && (isMobile || isTablet);
        
        // Security State
        let securityState = {
            devToolsOpen: false,
            violations: 0,
            lastViolation: null,
            isInIframe: false,
            warningShown: false,
            consoleAccessed: false,
            isDirectAccess: true,
            referrerDomain: document.referrer
        };
        
        // Initialize Security
        function initSecurity() {
            // Check for external console access immediately
            setupExternalConsoleDetection();
            
            // Only check iframe protection initially - other protections only when needed
            setupIframeProtection();
            setupConsoleWarning();
            
            // Setup keyboard and devtools detection only when user interacts
            if (!CONFIG.mobileOptimized || (!isMobile && !isTablet)) {
                setupKeyboardBlocking();
                setupRightClickBlocking();
                
                // Wait for user interaction before starting detection
                let userInteracted = false;
                const startDetection = () => {
                    if (!userInteracted) {
                        userInteracted = true;
                        setTimeout(() => {
                            setupDevToolsDetection();
                        }, 2000); // Wait 2 seconds after first interaction
                    }
                };
                
                document.addEventListener('click', startDetection, { once: true });
                document.addEventListener('keydown', startDetection, { once: true });
                document.addEventListener('scroll', startDetection, { once: true });
            } else {
                // Lighter security for mobile
                setupBasicMobileProtection();
            }
            
            console.log('🛡️ Security system initialized');
        }
        
        // DevTools Detection (Desktop only) - Improved with better logic
        function setupDevToolsDetection() {
            let detectionCount = 0;
            let devtools = {
                open: false,
                orientation: null
            };
            
            // Method 1: Size detection - More conservative approach
            setInterval(() => {
                const heightDiff = window.outerHeight - window.innerHeight;
                const widthDiff = window.outerWidth - window.innerWidth;
                
                // Conservative thresholds to prevent false positives
                if (heightDiff > 300 || widthDiff > 300) {
                    detectionCount++;
                    if (detectionCount >= 3 && !devtools.open && userInteracted) { // Require user interaction and multiple detections
                        devtools.open = true;
                        handleSecurityViolation('devtools');
                    }
                } else {
                    detectionCount = 0; // Reset counter
                    devtools.open = false;
                }
            }, 1000); // Check every 1 second to prevent false positives
            
            // Method 2: Only activate on user interaction to avoid false positives
            let userInteracted = false;
            document.addEventListener('click', () => { userInteracted = true; }, { once: true });
            document.addEventListener('keydown', () => { userInteracted = true; }, { once: true });
            
            // Method 3: Timing detection - Only after user interaction
            setInterval(() => {
                if (!userInteracted) return; // Skip if user hasn't interacted yet
                
                let start = performance.now();
                debugger;
                let end = performance.now();
                
                // Higher threshold to reduce false positives
                if (end - start > 200) {
                    handleSecurityViolation('devtools');
                }
            }, 5000); // Check every 5 seconds instead of 2
        }
        
        // External Console Access Detection
        function setupExternalConsoleDetection() {
            // Skip aggressive detection on Safari mobile to prevent false positives
            if (isSafariMobile) {
                console.log('🍎 Safari mobile detected - using lightweight protection');
                return;
            }
            
            // Detect if accessed from external console
            const checkAccessMethod = () => {
                // Check if DevTools was already open when page loaded
                const loadTime = performance.now();
                
                // Method 1: Check referrer domain (skip on mobile)
                if (!isMobile && !isTablet) {
                    const currentDomain = window.location.hostname;
                    const referrerDomain = document.referrer ? new URL(document.referrer).hostname : '';
                    
                    if (referrerDomain && referrerDomain !== currentDomain && referrerDomain !== '') {
                        securityState.isDirectAccess = false;
                        console.log('🔍 External referrer detected:', referrerDomain);
                    }
                }
                
                // Method 2: Check if DevTools were open during page load (desktop only)
                if (!isMobile && !isTablet) {
                    setTimeout(() => {
                        const heightDiff = window.outerHeight - window.innerHeight;
                        const widthDiff = window.outerWidth - window.innerWidth;
                        
                        if (heightDiff > 300 || widthDiff > 300) { // Higher threshold for desktop
                            securityState.consoleAccessed = true;
                            handleSecurityViolation('externalConsole');
                        }
                    }, 500); // Longer delay for more accuracy
                }
                
                // Method 3: Detect console paste operations (desktop only)
                if (!isMobile && !isTablet) {
                    document.addEventListener('paste', (e) => {
                        const pastedText = (e.clipboardData || window.clipboardData).getData('text');
                        if (pastedText.includes(window.location.hostname) || 
                            pastedText.includes('http') || 
                            pastedText.includes('window.location')) {
                            securityState.consoleAccessed = true;
                            handleSecurityViolation('externalConsole');
                        }
                    });
                }
                
                // Method 4: Override console methods to detect external usage (desktop only)
                if (!isMobile && !isTablet && !isSafariMobile) {
                    const originalConsole = {};
                    ['log', 'warn', 'error', 'info', 'debug'].forEach(method => {
                        originalConsole[method] = console[method];
                        console[method] = function(...args) {
                            // Check if console was accessed externally
                            const stack = new Error().stack;
                            if (stack && !stack.includes(window.location.hostname)) {
                                securityState.consoleAccessed = true;
                                handleSecurityViolation('externalConsole');
                            }
                            return originalConsole[method].apply(console, args);
                        };
                    });
                }
                
                // Method 5: Detect window focus patterns typical of console navigation (desktop only)
                if (!isMobile && !isTablet) {
                    let focusCount = 0;
                    window.addEventListener('focus', () => {
                        focusCount++;
                        if (focusCount > 5) { // Higher threshold for desktop
                            const heightDiff = window.outerHeight - window.innerHeight;
                            const widthDiff = window.outerWidth - window.innerWidth;
                            if (heightDiff > 250 || widthDiff > 250) {
                                handleSecurityViolation('externalConsole');
                            }
                        }
                    });
                }
                
                // Method 6: Detect suspicious navigation patterns (desktop only)
                if (!isMobile && !isTablet && !isSafariMobile) {
                    const originalLocation = window.location.href;
                    let navigationAttempts = 0;
                    
                    // Skip location override on mobile as it can cause issues
                    try {
                        Object.defineProperty(window, 'location', {
                            get: function() {
                                navigationAttempts++;
                                if (navigationAttempts > 5) { // Higher threshold
                                    handleSecurityViolation('externalConsole');
                                }
                                return originalLocation;
                            },
                            set: function(value) {
                                handleSecurityViolation('externalConsole');
                                return value;
                            }
                        });
                    } catch (e) {
                        console.log('Location override not supported');
                    }
                }
                
                // Method 7: Detect console command execution (desktop only)
                if (!isMobile && !isTablet) {
                    let commandCount = 0;
                    const originalEval = window.eval;
                    window.eval = function(code) {
                        commandCount++;
                        if (commandCount > 3 || code.includes('location') || code.includes('window.open')) {
                            handleSecurityViolation('externalConsole');
                        }
                        return originalEval.call(window, code);
                    };
                }
            };
            
            // Method 8: Check if page was opened directly in DevTools (desktop only)
            const checkDevToolsDirectAccess = () => {
                if (isMobile || isTablet || isSafariMobile) {
                    return; // Skip on mobile devices
                }
                
                // Check user agent for DevTools indicators
                const ua = navigator.userAgent.toLowerCase();
                if (ua.includes('devtools') || ua.includes('inspector')) {
                    handleSecurityViolation('externalConsole');
                }
                
                // Check for DevTools-specific features (desktop only)
                if (window.chrome && window.chrome.runtime && window.chrome.runtime.getManifest) {
                    handleSecurityViolation('externalConsole');
                }
                
                // Check screen dimensions vs window dimensions (desktop only)
                const screenRatio = window.screen.width / window.screen.height;
                const windowRatio = window.innerWidth / window.innerHeight;
                
                if (Math.abs(screenRatio - windowRatio) > 2.0) { // Higher threshold for desktop
                    handleSecurityViolation('externalConsole');
                }
            };
            
            // Run detection with different intervals for different devices
            if (!isSafariMobile) {
                checkAccessMethod();
                if (!isMobile && !isTablet) {
                    checkDevToolsDirectAccess();
                    setInterval(checkAccessMethod, 3000); // Less frequent on desktop
                }
            }
        }
        
        // Basic Mobile Protection
        function setupBasicMobileProtection() {
            // Only protect against obvious iframe embedding on mobile
            if (window.top !== window.self) {
                handleSecurityViolation('iframe');
            }
            
            // Light console warning for mobile
            console.log('%c🛡️ Mobile Security Active', 'color: #e74c3c; font-size: 14px; font-weight: bold;');
        }
        
        // Iframe Protection - More precise detection
        function setupIframeProtection() {
            // Only check iframe if we're actually in one
            try {
                if (window.top !== window.self) {
                    securityState.isInIframe = true;
                    
                    // Check if this is a legitimate iframe (like payment gateways, etc.)
                    const referrer = document.referrer;
                    const allowedDomains = [
                        'localhost',
                        '127.0.0.1',
                        window.location.hostname // Allow self-embedding
                    ];
                    
                    let isAllowed = false;
                    for (let domain of allowedDomains) {
                        if (referrer.includes(domain)) {
                            isAllowed = true;
                            break;
                        }
                    }
                    
                    if (!isAllowed && referrer && referrer !== '') {
                        // Try to break out of iframe first
                        try {
                            window.top.location = window.location;
                            return;
                        } catch (e) {
                            // If can't break out, redirect
                            handleSecurityViolation('iframe');
                        }
                    }
                }
            } catch (e) {
                // If there's an error accessing window.top, we might be in a cross-origin iframe
                if (e.name === 'SecurityError') {
                    handleSecurityViolation('iframe');
                }
            }
        }
        
        // Keyboard Blocking (Desktop only)
        function setupKeyboardBlocking() {
            document.addEventListener('keydown', (e) => {
                // F12
                if (e.key === 'F12') {
                    e.preventDefault();
                    handleSecurityViolation('devtools');
                    return false;
                }
                
                // Ctrl+Shift+I (DevTools)
                if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                    e.preventDefault();
                    handleSecurityViolation('devtools');
                    return false;
                }
                
                // Ctrl+Shift+J (Console)
                if (e.ctrlKey && e.shiftKey && e.key === 'J') {
                    e.preventDefault();
                    handleSecurityViolation('devtools');
                    return false;
                }
                
                // Ctrl+U (View Source)
                if (e.ctrlKey && e.key === 'u') {
                    e.preventDefault();
                    handleSecurityViolation('devtools');
                    return false;
                }
                
                // Ctrl+Shift+C (Element Inspector)
                if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                    e.preventDefault();
                    handleSecurityViolation('devtools');
                    return false;
                }
                
                // F5 (Refresh) - Allow but log
                if (e.key === 'F5') {
                    console.log('🔄 Page refresh detected');
                }
            });
        }
        
        // Right Click Blocking (Desktop only)
        function setupRightClickBlocking() {
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                return false;
            });
            
            // Disable text selection on sensitive areas
            document.addEventListener('selectstart', (e) => {
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                    return true;
                }
                e.preventDefault();
                return false;
            });
        }
        
        // Console Warning
        function setupConsoleWarning() {
            if (CONFIG.enableConsoleWarning && !securityState.warningShown) {
                console.log('%c' + CONFIG.warningMessages.console, 
                    'color: #e74c3c; font-size: 16px; font-weight: bold; background: #fff3cd; padding: 10px; border-radius: 5px;');
                
                console.log('%c🛡️ SECURITY NOTICE', 'color: #dc3545; font-size: 20px; font-weight: bold;');
                console.log('%cThis is a browser feature intended for developers. Pasting code here could compromise your account security.', 
                    'color: #6c757d; font-size: 14px;');
                
                securityState.warningShown = true;
            }
        }
        
        // Security Violation Handler - Safari Mobile Safe
        function handleSecurityViolation(type) {
            // Skip all violations on Safari mobile to prevent false positives
            if (isSafariMobile) {
                console.log('🍎 Safari mobile - security violation skipped');
                return;
            }
            
            // Double-check violation to prevent false positives
            if (type === 'devtools') {
                // Final verification for devtools
                const heightDiff = window.outerHeight - window.innerHeight;
                const widthDiff = window.outerWidth - window.innerWidth;
                
                // Higher threshold on mobile devices
                const threshold = (isMobile || isTablet) ? 400 : 220;
                if (heightDiff < threshold && widthDiff < threshold) {
                    console.log('⚠️ False positive prevented for devtools detection');
                    return; // Cancel violation
                }
            }
            
            // Skip external console violations on all mobile devices
            if (type === 'externalConsole' && (isMobile || isTablet)) {
                console.log('📱 Mobile device - external console check skipped');
                return;
            }
            
            securityState.violations++;
            securityState.lastViolation = {
                type: type,
                timestamp: Date.now(),
                userAgent: navigator.userAgent,
                url: window.location.href
            };
            
            // Log violation
            console.log(`🚨 Security violation detected: ${type}`);
            
            // Show warning based on type
            switch (type) {
                case 'devtools':
                    showSecurityWarning(CONFIG.warningMessages.devtools);
                    // Close tab after warning
                    setTimeout(() => {
                        closeTab();
                    }, 50); // Changed to 0.05 seconds for instant response
                    break;
                    
                case 'iframe':
                    showSecurityWarning(CONFIG.warningMessages.iframe);
                    // Immediate redirect for iframe
                    setTimeout(() => {
                        redirectToSafePage();
                    }, 30); // Ultra-fast iframe redirect
                    break;
                    
                case 'externalConsole':
                    showSecurityWarning(CONFIG.warningMessages.externalConsole);
                    // Immediate redirect for external console access
                    setTimeout(() => {
                        redirectToSafePage();
                    }, 100); // Fast redirect for external console
                    break;
                    
                default:
                    showQuickWarning(CONFIG.warningMessages[type] || 'Security violation detected');
            }
            
            // Send violation report (optional)
            reportViolation(type);
        }
        
        // Show Security Warning Overlay - Ultra Fast Display
        function showSecurityWarning(message) {
            // Remove existing warning immediately
            const existingWarning = document.getElementById('security-warning');
            if (existingWarning) {
                existingWarning.remove();
            }
            
            // Create warning with instant display
            const warningDiv = document.createElement('div');
            warningDiv.id = 'security-warning';
            warningDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.95);
                    backdrop-filter: blur(10px);
                    z-index: 999999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-family: 'Inter', 'Poppins', sans-serif;
                ">
                    <div style="
                        background: linear-gradient(135deg, #dc3545, #c82333);
                        color: white;
                        padding: 40px;
                        border-radius: 20px;
                        text-align: center;
                        max-width: 400px;
                        box-shadow: 0 20px 60px rgba(220, 53, 69, 0.5);
                        animation: slideIn 0.1s ease-out;
                        border: 3px solid rgba(255, 255, 255, 0.5);
                        animation: slideIn 0.1s ease-out, flashBorder 0.3s ease-in-out infinite;
                    ">
                        <div style="font-size: 80px; margin-bottom: 15px; animation: shake 0.5s ease-in-out;">�</div>
                        <h2 style="margin: 0 0 15px; font-size: 28px; color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">⚠️ BẢO MẬT WEBSITE</h2>
                        <p style="margin: 0 0 20px; font-size: 16px; opacity: 0.9;">${message}</p>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 20px 0;">
                            <p style="margin: 0; font-size: 14px;">⚡ Chuyển hướng tức thời...</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Add ultra-fast animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from {
                        opacity: 0;
                        transform: translateY(-20px) scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }
                
                #security-warning {
                    animation: slideIn 0.1s ease-out !important;
                }
                
                #security-warning > div > div {
                    animation: pulse 0.5s ease-in-out infinite alternate !important;
                }
                
                @keyframes pulse {
                    from { transform: scale(1); }
                    to { transform: scale(1.02); }
                }
                
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                    20%, 40%, 60%, 80% { transform: translateX(5px); }
                }
                
                @keyframes flashBorder {
                    0%, 100% { border-color: rgba(255, 255, 255, 0.3); }
                    50% { border-color: rgba(255, 255, 255, 0.8); }
                }
            `;
            document.head.appendChild(style);
            
            // Append immediately with highest priority
            document.body.appendChild(warningDiv);
            
            // Force immediate display and focus  
            warningDiv.style.display = 'flex';
            warningDiv.scrollIntoView({ behavior: 'instant', block: 'center' });
            
            // No countdown needed for instant action
            const countdownElement = document.getElementById('countdown');
            const countdownInterval = setInterval(() => {
                countdown--;
                if (countdownElement) {
                    countdownElement.textContent = countdown;
                }
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                }
            }, 1000);
        }
        
        // Show Quick Warning (for less severe violations)
        function showQuickWarning(message) {
            const warningDiv = document.createElement('div');
            warningDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #dc3545, #c82333);
                    color: white;
                    padding: 15px 20px;
                    border-radius: 12px;
                    font-size: 14px;
                    font-weight: 500;
                    z-index: 999999;
                    box-shadow: 0 8px 25px rgba(220, 53, 69, 0.3);
                    animation: slideInRight 0.4s ease-out;
                    max-width: 300px;
                ">
                    ${message}
                </div>
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from {
                        opacity: 0;
                        transform: translateX(100%);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(0);
                    }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(warningDiv);
            
            setTimeout(() => {
                warningDiv.style.animation = 'slideInRight 0.4s ease-out reverse';
                setTimeout(() => {
                    if (warningDiv.parentNode) {
                        warningDiv.parentNode.removeChild(warningDiv);
                    }
                }, 400);
            }, 3000);
        }
        
        // Close Tab
        function closeTab() {
            try {
                // Try multiple methods to close tab
                window.close();
                
                // If window.close() doesn't work, try redirect
                if (!window.closed) {
                    redirectToSafePage();
                }
            } catch (e) {
                console.log('Tab close failed, redirecting...');
                redirectToSafePage();
            }
        }
        
        // Redirect to Safe Page
        function redirectToSafePage() {
            try {
                window.location.replace(CONFIG.redirectUrl);
            } catch (e) {
                window.location.href = CONFIG.redirectUrl;
            }
        }
        
        // Report Violation (optional - can send to server)
        function reportViolation(type) {
            // Uncomment to enable server reporting
            /*
            fetch('/api/security/report-violation', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    type: type,
                    timestamp: Date.now(),
                    userAgent: navigator.userAgent,
                    url: window.location.href,
                    violations: securityState.violations
                })
            }).catch(e => console.log('Violation report failed'));
            */
        }
        
        // Advanced Detection Methods - Removed aggressive console override
        function setupAdvancedDetection() {
            // Only monitor if user actually tries to access console manually
            let suspiciousActivity = 0;
            
            // Don't override console.log as it causes false positives
            // Instead, monitor for actual developer tool usage patterns
            window.addEventListener('resize', () => {
                const heightDiff = window.outerHeight - window.innerHeight;
                const widthDiff = window.outerWidth - window.innerWidth;
                
                if (heightDiff > 300 || widthDiff > 300) {
                    suspiciousActivity++;
                    if (suspiciousActivity > 2) {
                        // Only trigger after multiple suspicious resize events
                        setTimeout(() => {
                            if (window.outerHeight - window.innerHeight > 300 || 
                                window.outerWidth - window.innerWidth > 300) {
                                handleSecurityViolation('devtools');
                            }
                        }, 1000);
                    }
                }
            });
        }
        

        
        // Initialize security on page load
        window.addEventListener('load', () => {
            initSecurity();
            // Only setup advanced detection after user interaction
            if (!isMobile && !isTablet) {
                setTimeout(() => {
                    setupAdvancedDetection();
                }, 5000); // Wait 5 seconds before advanced detection
            }
        });
        
        // Disable drag and drop
        document.addEventListener('dragstart', (e) => {
            e.preventDefault();
            return false;
        });
        
        // Disable print screen (limited effectiveness)
        document.addEventListener('keyup', (e) => {
            if (e.key === 'PrintScreen') {
                navigator.clipboard.writeText('');
                showQuickWarning('🚫 Screenshot đã bị vô hiệu hóa!');
            }
        });
        
        // Blur page when devtools detected
        function blurPage() {
            document.body.style.filter = 'blur(5px)';
            document.body.style.pointerEvents = 'none';
            document.body.style.userSelect = 'none';
        }
        
        // Monitor focus changes
        let isBlurred = false;
        window.addEventListener('blur', () => {
            isBlurred = true;
        });
        
        window.addEventListener('focus', () => {
            if (isBlurred) {
                // Check if devtools might be open
                if (window.outerWidth - window.innerWidth > 200 || 
                    window.outerHeight - window.innerHeight > 200) {
                    handleSecurityViolation('devtools');
                }
            }
            isBlurred = false;
        });
        
        console.log('🛡️ Advanced Security System Loaded');
        
    })();
    
    // Modern Header & Live Chat Support Widget
    document.addEventListener('DOMContentLoaded', function() {
        // Header Functionality
        const header = document.getElementById('modernHeader');
        const mobileToggle = document.getElementById('mobileToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        let isMobileMenuOpen = false;
        
        // Scroll effect for header
        window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // Mobile menu toggle function
        function toggleMobileMenu() {
            isMobileMenuOpen = !isMobileMenuOpen;
            
            if (isMobileMenuOpen) {
                mobileMenu.classList.add('active');
                mobileToggle.classList.add('active');
                document.body.style.overflow = 'hidden';
                console.log('📱 Mobile menu opened');
            } else {
                mobileMenu.classList.remove('active');
                mobileToggle.classList.remove('active');
                document.body.style.overflow = '';
                
                // Close all mobile dropdowns when menu closes
                document.querySelectorAll('.mobile-dropdown-menu').forEach(menu => {
                    menu.style.display = 'none';
                });
                document.querySelectorAll('.mobile-dropdown-arrow').forEach(arrow => {
                    arrow.style.transform = 'rotate(0deg)';
                });
                
                console.log('📱 Mobile menu closed');
            }
        }
        
        // Mobile menu toggle event
        if (mobileToggle && mobileMenu) {
            mobileToggle.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                toggleMobileMenu();
                console.log('📱 Mobile toggle clicked');
            });
            
            // Close menu when clicking on links (except dropdown toggles)
            const mobileNavLinks = mobileMenu.querySelectorAll('.mobile-nav-link:not(.mobile-dropdown-toggle)');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (isMobileMenuOpen && this.getAttribute('href') !== 'javascript:void(0)') {
                        // Only close menu for actual navigation links, not dropdown toggles
                        setTimeout(() => {
                            toggleMobileMenu();
                        }, 100); // Small delay to allow dropdown items to work
                    }
                });
            });
            
            // Close menu when clicking outside (but not on dropdown toggles)
            document.addEventListener('click', function(e) {
                // Don't close menu if clicking on dropdown elements
                const isDropdownClick = e.target.closest('.mobile-dropdown-toggle') || 
                                      e.target.closest('.mobile-dropdown-menu');
                
                if (isMobileMenuOpen && 
                    !mobileMenu.contains(e.target) && 
                    !mobileToggle.contains(e.target) &&
                    !isDropdownClick) {
                    toggleMobileMenu();
                }
            });
            
            // Close menu on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && isMobileMenuOpen) {
                    toggleMobileMenu();
                }
            });
            
            console.log('📱 Mobile menu handlers attached');
        } else {
            console.error('❌ Mobile menu elements not found');
        }
        
        // Mobile Dropdown Handler
        const mobileDropdowns = document.querySelectorAll('.mobile-dropdown-toggle');
        console.log('🔽 Found mobile dropdowns:', mobileDropdowns.length);
        
        mobileDropdowns.forEach(dropdown => {
            dropdown.addEventListener('click', function(e) {
                console.log('🔽 Dropdown clicked');
                e.preventDefault();
                e.stopPropagation();
                
                const dropdownMenu = this.parentElement.querySelector('.mobile-dropdown-menu');
                const arrow = this.querySelector('.mobile-dropdown-arrow');
                
                if (dropdownMenu) {
                    const isOpen = dropdownMenu.style.display === 'block';
                    console.log('🔽 Dropdown current state:', isOpen ? 'open' : 'closed');
                    
                    // Close all other dropdowns
                    document.querySelectorAll('.mobile-dropdown-menu').forEach(menu => {
                        if (menu !== dropdownMenu) {
                            menu.style.display = 'none';
                        }
                    });
                    document.querySelectorAll('.mobile-dropdown-arrow').forEach(arr => {
                        if (arr !== arrow) {
                            arr.style.transform = 'rotate(0deg)';
                        }
                    });
                    
                    // Toggle current dropdown
                    if (!isOpen) {
                        dropdownMenu.style.display = 'block';
                        arrow.style.transform = 'rotate(180deg)';
                        console.log('🔽 Dropdown opened');
                    } else {
                        dropdownMenu.style.display = 'none';
                        arrow.style.transform = 'rotate(0deg)';
                        console.log('🔽 Dropdown closed');
                    }
                }
            });
        });
        
        console.log('🔽 Mobile dropdown handlers attached');
        
        // Prevent mobile menu from closing when clicking dropdown items
        document.querySelectorAll('.mobile-dropdown-menu a').forEach(item => {
            item.addEventListener('click', function(e) {
                // Allow navigation but don't close mobile menu immediately
                // Mobile menu will close after navigation happens
                console.log('🔗 Dropdown item clicked:', this.textContent.trim());
            });
        });
        
        // Live Chat Widget Class
        class LiveChatWidget {
            constructor() {
                this.isOpen = false;
                this.sessionId = null;
                this.userId = null;
                this.username = null;
                this.lastMessageId = 0;
                this.pollInterval = null;
                this.isSending = false;
                
                this.initElements();
                this.bindEvents();
                this.checkSession();
                this.startPolling();
            }
            
            initElements() {
                this.chatToggle = document.getElementById('chatToggle');
                this.chatWindow = document.getElementById('chatWindow');
                this.chatClose = document.getElementById('chatClose');
                this.chatBody = document.querySelector('.chat-body');
                this.messageInput = document.querySelector('.chat-input-area input');
                this.sendBtn = document.querySelector('.send-btn');
                this.emojiBtn = document.getElementById('chatEmojiBtn');
                this.attachmentBtn = document.getElementById('chatAttachmentBtn');
                this.fileInput = document.getElementById('chatFileInput');
                this.quickBtns = document.querySelectorAll('.quick-btn');
                this.statusBar = document.querySelector('.chat-status-bar span');
                this.statusIndicator = document.querySelector('.status');
                this.emojiPicker = null;
                
                // Debug log for attachment elements
                console.log('🔍 Chat Elements Check:');
                console.log('- Attachment Button:', this.attachmentBtn ? '✅ Found' : '❌ Missing');
                console.log('- File Input:', this.fileInput ? '✅ Found' : '❌ Missing');
                
                // Retry finding attachment elements if missing
                if (!this.attachmentBtn) {
                    console.log('⚠️ Retrying to find attachment button...');
                    setTimeout(() => {
                        this.attachmentBtn = document.getElementById('chatAttachmentBtn');
                        this.fileInput = document.getElementById('chatFileInput');
                        if (this.attachmentBtn && this.fileInput) {
                            console.log('✅ Found attachment elements on retry, rebinding events...');
                            this.bindAttachmentEvents();
                        }
                    }, 1000);
                }
            }
            
            bindEvents() {
                // Toggle chat
                if (this.chatToggle) {
                    this.chatToggle.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.toggleChat();
                    });
                }
                
                // Close chat
                if (this.chatClose) {
                    this.chatClose.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.closeChat();
                    });
                }
                
                // Send message
                if (this.sendBtn) {
                    this.sendBtn.addEventListener('click', () => {
                        this.sendMessage();
                    });
                }
                
                if (this.messageInput) {
                    this.messageInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' && !e.shiftKey) {
                            e.preventDefault();
                            this.sendMessage();
                        }
                    });
                }
                
                // Quick buttons
                this.quickBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const text = btn.querySelector('span').textContent;
                        let message = text;
                        
                        // Customize "Xin chào" message with username
                        if (text === 'Xin chào' && this.username) {
                            message = `Xin chào! Tôi là ${this.username}. Tôi cần hỗ trợ.`;
                        }
                        
                        // Customize "Bảng giá" message
                        if (text === 'Bảng giá') {
                            message = 'Tôi cần xem bảng giá!';
                        }
                        
                        // Customize "Thanh toán" message
                        if (text === 'Thanh toán') {
                            message = 'Hỗ trợ nạp tiền';
                        }
                        
                        // Customize "Hỗ trợ" message
                        if (text === 'Hỗ trợ') {
                            message = 'Tôi cần hỗ trợ, hãy hỗ trợ tôi với';
                        }
                        
                        if (this.messageInput) {
                            this.messageInput.value = message;
                            this.sendMessage();
                        }
                        
                        // Ẩn tất cả quick buttons sau khi nhấn
                        this.hideQuickButtons();
                    });
                });
                
                // Close when clicking outside
                document.addEventListener('click', (e) => {
                    if (this.isOpen && !this.chatWindow.contains(e.target) && !this.chatToggle.contains(e.target)) {
                        this.closeChat();
                    }
                });
                
                // Prevent chat window clicks from closing
                if (this.chatWindow) {
                    this.chatWindow.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });
                }

                // Emoji picker toggle
                if (this.emojiBtn) {
                    this.emojiBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.toggleEmojiPicker();
                    });
                }

                // Attachment button - Use dedicated method
                this.bindAttachmentEvents();

                // File input change
                if (this.fileInput) {
                    this.fileInput.addEventListener('change', (e) => {
                        this.handleFileSelect(e);
                    });
                }

                // Hide emoji picker when clicking outside
                document.addEventListener('click', (e) => {
                    if (this.emojiPicker && !this.emojiPicker.contains(e.target) && !this.emojiBtn.contains(e.target)) {
                        this.emojiPicker.style.display = 'none';
                    }
                });
            }

            bindAttachmentEvents() {
                // Separate method to bind attachment events - can be called multiple times
                if (!this.attachmentBtn || !this.fileInput) {
                    console.log('❌ Cannot bind attachment events - elements missing');
                    return;
                }
                
                // Remove any existing listeners
                this.attachmentBtn.onclick = null;
                this.attachmentBtn.removeEventListener('click', this.attachmentHandler);
                
                // Create handler function
                this.attachmentHandler = (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    console.log('📎 Attachment button clicked!');
                    
                    if (this.fileInput) {
                        this.fileInput.click();
                    } else {
                        console.error('❌ File input not found');
                        alert('Lỗi: Không tìm thấy file input. Vui lòng tải lại trang.');
                    }
                };
                
                // Add event listener
                this.attachmentBtn.addEventListener('click', this.attachmentHandler);
                
                // Backup click handler
                this.attachmentBtn.onclick = this.attachmentHandler;
                
                console.log('✅ Attachment events bound successfully');
            }

            createEmojiPicker() {
                if (this.emojiPicker) return;

                // Tạo element emoji picker
                this.emojiPicker = document.createElement('div');
                this.emojiPicker.className = 'emoji-picker';
                this.emojiPicker.style.cssText = `
                    position: absolute;
                    bottom: 50px;
                    right: 50px;
                    width: 300px;
                    max-height: 250px;
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
                    border: 2px solid #4a90e2;
                    border-radius: 12px;
                    padding: 15px;
                    display: none;
                    overflow-y: auto;
                    overflow-x: hidden;
                    z-index: 1000;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 0 0 1px rgba(74, 144, 226, 0.2);
                    backdrop-filter: blur(10px);
                `;

                const emojis = [
                    '😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇',
                    '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚',
                    '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎', '🤩',
                    '🥳', '😏', '😒', '😞', '😔', '😟', '😕', '🙁', '☹️', '😣',
                    '😖', '😫', '😩', '🥺', '😢', '😭', '😤', '😠', '😡', '🤬',
                    '🤯', '😳', '🥵', '🥶', '😱', '😨', '😰', '😥', '😓', '🤗',
                    '🤔', '🤭', '🤫', '🤥', '😶', '😐', '😑', '😬', '🙄', '😯',
                    '😦', '😧', '😮', '😲', '🥱', '😴', '🤤', '😪', '😵', '🤐',
                    '🥴', '🤢', '🤮', '🤧', '😷', '🤒', '🤕', '🤑', '🤠', '😈',
                    '👍', '👎', '👌', '✌️', '🤞', '🤟', '🤘', '🤙', '👈', '👉',
                    '👆', '🖕', '👇', '☝️', '👋', '🤚', '🖐️', '✋', '🖖', '👏',
                    '🙌', '🤲', '🙏', '✍️', '💪', '🦵', '🦶', '👂', '🦻', '👃',
                    '❤️', '🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎', '💔',
                    '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '♥️',
                    '🔥', '💯', '💢', '💥', '💫', '💦', '💨', '🕳️', '💬', '👁️‍🗨️',
                    '🗨️', '🗯️', '💭', '💤'
                ];

                this.emojiPicker.innerHTML = emojis.map(emoji => 
                    `<span class="emoji-item" style="
                        display: inline-flex; 
                        align-items: center;
                        justify-content: center;
                        width: 36px;
                        height: 36px;
                        margin: 2px;
                        cursor: pointer; 
                        font-size: 20px; 
                        border-radius: 8px; 
                        transition: all 0.3s ease;
                        border: 1px solid transparent;
                        background: rgba(255,255,255,0.05);
                        text-align: center;
                        vertical-align: middle;
                        line-height: 1;
                    " data-emoji="${emoji}">${emoji}</span>`
                ).join('');

                // Thêm header cho emoji picker
                const header = document.createElement('div');
                header.style.cssText = `
                    padding-bottom: 10px;
                    margin-bottom: 10px;
                    border-bottom: 1px solid rgba(74, 144, 226, 0.3);
                    text-align: center;
                    color: #4a90e2;
                    font-size: 14px;
                    font-weight: bold;
                    position: relative;
                `;
                header.innerHTML = '😊 Chọn Emoji';
                
                // Thêm nút X đóng
                const closeBtn = document.createElement('button');
                closeBtn.innerHTML = '×';
                closeBtn.style.cssText = `
                    position: absolute;
                    top: -5px;
                    right: -5px;
                    width: 20px;
                    height: 20px;
                    border: none;
                    background: #ff4757;
                    color: white;
                    border-radius: 50%;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.2s ease;
                    z-index: 10;
                `;
                
                // Thêm hover effect cho nút X
                closeBtn.addEventListener('mouseenter', () => {
                    closeBtn.style.background = '#ff3742';
                    closeBtn.style.transform = 'scale(1.1)';
                });
                closeBtn.addEventListener('mouseleave', () => {
                    closeBtn.style.background = '#ff4757';
                    closeBtn.style.transform = 'scale(1)';
                });
                
                // Thêm sự kiện click để đóng emoji picker
                closeBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.emojiPicker.style.display = 'none';
                    console.log('😊 Emoji picker closed by X button');
                });
                
                header.appendChild(closeBtn);
                this.emojiPicker.insertBefore(header, this.emojiPicker.firstChild);

                // Thêm CSS cho emoji items hover effect
                const style = document.createElement('style');
                style.textContent = `
                    .emoji-picker {
                        scrollbar-width: thin;
                        scrollbar-color: #4a90e2 transparent;
                    }
                    .emoji-picker::-webkit-scrollbar {
                        width: 6px;
                        background: transparent;
                    }
                    .emoji-picker::-webkit-scrollbar-track {
                        background: transparent;
                        border-radius: 3px;
                        margin: 5px 0;
                    }
                    .emoji-picker::-webkit-scrollbar-thumb {
                        background: #4a90e2;
                        border-radius: 3px;
                        min-height: 20px;
                    }
                    .emoji-picker::-webkit-scrollbar-thumb:hover {
                        background: #357abd;
                    }
                    .emoji-picker::-webkit-scrollbar-button {
                        display: none;
                    }
                    .emoji-picker::-webkit-scrollbar-corner {
                        background: transparent;
                    }
                    .emoji-item:hover {
                        background: rgba(74, 144, 226, 0.3) !important;
                        border-color: #4a90e2 !important;
                        transform: scale(1.1);
                        box-shadow: 0 2px 8px rgba(74, 144, 226, 0.4);
                    }
                    .emoji-item:active {
                        transform: scale(0.95);
                    }
                `;
                document.head.appendChild(style);

                // Thêm emoji picker vào chat window
                this.chatWindow.appendChild(this.emojiPicker);

                // Add click handlers for emoji items
                this.emojiPicker.querySelectorAll('.emoji-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.insertEmoji(item.dataset.emoji);
                    });
                });
            }

            toggleEmojiPicker() {
                if (!this.emojiPicker) {
                    this.createEmojiPicker();
                }

                if (this.emojiPicker.style.display === 'none' || !this.emojiPicker.style.display) {
                    this.emojiPicker.style.display = 'block';
                    console.log('😊 Emoji picker opened');
                } else {
                    this.emojiPicker.style.display = 'none';
                    console.log('😊 Emoji picker closed');
                }
            }

            insertEmoji(emoji) {
                if (this.messageInput) {
                    const cursorPos = this.messageInput.selectionStart;
                    const textBefore = this.messageInput.value.substring(0, cursorPos);
                    const textAfter = this.messageInput.value.substring(this.messageInput.selectionEnd);
                    
                    this.messageInput.value = textBefore + emoji + textAfter;
                    this.messageInput.focus();
                    this.messageInput.setSelectionRange(cursorPos + emoji.length, cursorPos + emoji.length);
                }
                this.emojiPicker.style.display = 'none';
            }

            handleFileSelect(event) {
                const file = event.target.files[0];
                if (!file) return;

                // Check file size (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    this.showError('File quá lớn. Vui lòng chọn file nhỏ hơn 5MB.');
                    return;
                }

                // Check file type
                const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];
                if (!allowedTypes.includes(file.type)) {
                    this.showError('Chỉ được phép tải lên file ảnh (JPG, PNG, GIF, WebP).');
                    return;
                }

                this.uploadFile(file);
            }

            async uploadFile(file) {
                console.log('🔧 Upload file method called:', file.name);
                
                const formData = new FormData();
                formData.append('file', file);
                formData.append('action', 'send_image');
                
                // Add session ID if available (API will auto-create if missing)
                if (this.sessionId) {
                    formData.append('session_id', this.sessionId);
                }

                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        body: formData
                    });

                    const data = await response.json();
                    console.log('Upload result:', data);

                    if (data.success) {
                        // Use the message from API response
                        const imgMsg = data.message;
                        
                        // Ensure message has correct format for image display
                        if (!imgMsg.message_type) {
                            imgMsg.message_type = 'image';
                        }
                        if (!imgMsg.file_type) {
                            imgMsg.file_type = 'image';
                        }
                        
                        console.log('📷 Image message to display:', imgMsg);
                        
                        this.displayMessage(imgMsg);
                        this.clearWelcomeMessage();
                        console.log('✅ Image displayed!');
                        
                        return true;
                    } else {
                        console.error('Upload failed:', data.error);
                        alert('Upload lỗi: ' + data.error);
                        return false;
                    }
                } catch (error) {
                    console.error('Upload error:', error);
                    alert('Lỗi: ' + error.message);
                    return false;
                } finally {
                    // Reset file input
                    if (this.fileInput) {
                        this.fileInput.value = '';
                    }
                }
            }

            displayImageMessage(imageUrl, fileName) {
                // Create image message and display immediately
                const message = {
                    id: Date.now(), // Temporary ID
                    message: `📷 ${fileName}`,
                    image_url: imageUrl,
                    sender: 'user',
                    created_at: new Date().toISOString(),
                    message_type: 'image'
                };
                
                console.log('🖼️ Displaying image message:', message);
                this.displayMessage(message);
                this.clearWelcomeMessage();
            }

            async sendImageNotification(imageUrl, fileName) {
                // Send notification to backend (for Telegram, etc.)
                if (!this.sessionId) return;

                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'send_message',
                            session_id: this.sessionId,
                            message: `📷 Đã gửi ảnh: ${fileName}`,
                            image_url: imageUrl,
                            message_type: 'image'
                        })
                    });

                    const data = await response.json();
                    console.log('📨 Image notification sent:', data);
                    
                    if (data.success && data.message.id > this.lastMessageId) {
                        this.lastMessageId = data.message.id;
                    }
                } catch (error) {
                    console.error('Send image notification error:', error);
                }
            }

            async sendFileMessage(filePath, fileName) {
                if (!this.sessionId) return;

                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'send_message',
                            session_id: this.sessionId,
                            message: `📎 ${fileName}`,
                            file_path: filePath,
                            message_type: 'file'
                        })
                    });

                    const data = await response.json();

                    if (data.success) {
                        this.clearWelcomeMessage();
                        this.displayMessage(data.message);
                        if (data.message.id > this.lastMessageId) {
                            this.lastMessageId = data.message.id;
                        }
                        this.showTypingIndicator();
                    } else {
                        throw new Error(data.error || 'Không thể gửi file');
                    }
                } catch (error) {
                    console.error('Send file message error:', error);
                    this.showError('Lỗi gửi file: ' + error.message);
                }
            }
            
            async checkSession() {
                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'get_session'
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        this.sessionId = data.session_id;
                        this.userId = data.user_id;
                        this.username = data.username;
                        this.updateConnectionStatus('connected');
                        
                        // Update welcome message with username
                        this.updateWelcomeMessage();
                        
                        // Enable chat if logged in
                        this.enableChat();
                        
                        // Load chat history
                        if (data.has_messages) {
                            await this.loadHistory();
                        }
                        
                        console.log('✅ Chat session established:', this.sessionId);
                    } else {
                        this.updateConnectionStatus('error');
                        this.showLoginPrompt();
                        console.log('❌ Not logged in or session failed');
                    }
                } catch (error) {
                    console.error('Chat session error:', error);
                    this.updateConnectionStatus('error');
                    this.showError('Lỗi kết nối chat. Vui lòng thử lại.');
                }
            }
            
            async loadHistory() {
                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'poll_messages',
                            session_id: this.sessionId,
                            last_message_id: 0
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success && data.messages.length > 0) {
                        this.clearWelcomeMessage();
                        data.messages.forEach(message => {
                            this.displayMessage(message);
                            if (message.id > this.lastMessageId) {
                                this.lastMessageId = message.id;
                            }
                        });
                        this.scrollToBottom();
                    }
                } catch (error) {
                    console.error('Load history error:', error);
                }
            }
            
            async sendMessage() {
                const message = this.messageInput?.value.trim();
                if (!message || !this.sessionId || this.isSending) return;
                
                this.isSending = true;
                this.messageInput.disabled = true;
                this.sendBtn.disabled = true;
                
                // Clear input and show message immediately
                this.messageInput.value = '';
                this.clearWelcomeMessage();
                
                // Show temporary message
                const tempMessage = {
                    id: 'temp_' + Date.now(),
                    message: message,
                    sender_type: 'user',
                    sender_name: this.username || 'Người dùng',
                    created_at: new Date().toISOString(),
                    is_sending: true
                };
                this.displayMessage(tempMessage);
                
                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'send_message',
                            session_id: this.sessionId,
                            message: message
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        // Remove temp message
                        const tempElement = document.querySelector(`[data-message-id="${tempMessage.id}"]`);
                        if (tempElement) tempElement.remove();
                        
                        // Add real message
                        this.displayMessage(data.message);
                        if (data.message.id > this.lastMessageId) {
                            this.lastMessageId = data.message.id;
                        }
                        
                        // this.showNotification('Tin nhắn đã được gửi đến admin!', 'success'); // Đã ẩn thông báo
                        this.showTypingIndicator();
                        
                    } else {
                        throw new Error(data.error || 'Không thể gửi tin nhắn');
                    }
                    
                } catch (error) {
                    console.error('Send message error:', error);
                    this.showError('Lỗi gửi tin nhắn: ' + error.message);
                    
                    // Remove temp message on error
                    const tempElement = document.querySelector(`[data-message-id="${tempMessage.id}"]`);
                    if (tempElement) tempElement.remove();
                    
                } finally {
                    this.isSending = false;
                    this.messageInput.disabled = false;
                    this.sendBtn.disabled = false;
                    this.messageInput.focus();
                }
            }
            
            async pollMessages() {
                if (!this.sessionId) return;
                
                try {
                    const response = await fetch('/api/chat/simple.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: 'poll_messages',
                            session_id: this.sessionId,
                            last_message_id: this.lastMessageId
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success && data.messages.length > 0) {
                        this.hideTypingIndicator();
                        
                        data.messages.forEach(message => {
                            this.displayMessage(message, true);
                            if (message.id > this.lastMessageId) {
                                this.lastMessageId = message.id;
                            }
                        });
                        
                        // Show notification if chat is closed
                        if (!this.isOpen) {
                            this.showNewMessageNotification();
                        }
                        
                        this.updateConnectionStatus('connected');
                    }
                    
                } catch (error) {
                    console.error('Poll messages error:', error);
                    this.updateConnectionStatus('error');
                }
            }
            
            displayMessage(message, animate = false) {
                console.log('🔍 DisplayMessage called with:', message);
                const messageDiv = document.createElement('div');
                
                // Determine sender type
                const senderType = message.sender_type || message.sender || 'user';
                messageDiv.className = `chat-message ${senderType}`;
                messageDiv.setAttribute('data-message-id', message.id);
                
                const isUser = senderType === 'user';
                
                messageDiv.innerHTML = `
                    <div class="message-wrapper" style="
                        display: flex;
                        justify-content: ${isUser ? 'flex-end' : 'flex-start'};
                        margin: 8px 0;
                        ${animate ? 'opacity: 0; transform: translateY(20px);' : ''}
                    ">
                        <div class="message-bubble" style="
                            background: ${isUser ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 'rgba(255, 255, 255, 0.9)'};
                            color: ${isUser ? 'white' : '#333'};
                            padding: 12px 16px;
                            border-radius: ${isUser ? '18px 18px 4px 18px' : '18px 18px 18px 4px'};
                            max-width: 75%;
                            margin: 0 12px;
                            position: relative;
                            word-wrap: break-word;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        ">
                            ${!isUser ? `<div class="sender-name" style="font-size: 12px; opacity: 0.7; margin-bottom: 4px; font-weight: 600;">${message.sender_name || 'Hỗ trợ khách hàng'}</div>` : ''}
                            <div class="message-content" style="margin-bottom: 6px; line-height: 1.4;">${this.formatMessageContent(message)}</div>
                            <div class="message-time" style="font-size: 10px; opacity: 0.7; text-align: right;">
                                ${this.formatTime(message.created_at)}
                                ${message.is_sending ? ' <i class="fas fa-clock"></i>' : ''}
                            </div>
                        </div>
                    </div>
                `;
                
                this.chatBody.appendChild(messageDiv);
                
                if (animate) {
                    setTimeout(() => {
                        const wrapper = messageDiv.querySelector('.message-wrapper');
                        if (wrapper) {
                            wrapper.style.cssText += 'opacity: 1; transform: translateY(0); transition: all 0.3s ease;';
                        }
                    }, 100);
                }
                
                this.scrollToBottom();
            }
            
            formatMessage(message) {
                return message.replace(/\n/g, '<br>').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            }

            formatMessageContent(message) {
                // Handle image messages
                if ((message.message_type === 'image' || message.message_type === 'file') && 
                    (message.image_url || message.file_path)) {
                    
                    const imageUrl = message.image_url || message.file_path;
                    const fileName = message.message.replace(/📎|📷/, '').trim();
                    
                    console.log('🖼️ Formatting image message:', {
                        message_type: message.message_type,
                        image_url: message.image_url,
                        file_path: message.file_path,
                        final_url: imageUrl
                    });
                    
                    return `
                        <div class="image-message" style="margin: 8px 0;">
                            <div class="image-preview">
                                <img src="${imageUrl}" alt="${fileName}" style="
                                    max-width: 250px;
                                    max-height: 200px;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
                                    transition: transform 0.2s ease;
                                " onclick="window.open('${imageUrl}', '_blank')"
                                   onmouseover="this.style.transform='scale(1.02)'"
                                   onmouseout="this.style.transform='scale(1)'">
                            </div>
                            <div class="image-info" style="margin-top: 6px;">
                                <small style="opacity: 0.7; font-size: 11px;">📷 ${fileName}</small>
                            </div>
                        </div>
                    `;
                }
                
                // Handle regular text messages
                return this.formatMessage(message.message);
            }
            
            formatTime(timestamp) {
                const date = new Date(timestamp);
                return date.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' });
            }
            
            showTypingIndicator() {
                const existing = this.chatBody.querySelector('.typing-indicator');
                if (existing) existing.remove();
                
                const indicator = document.createElement('div');
                indicator.className = 'typing-indicator';
                indicator.innerHTML = `
                    <div class="message-wrapper" style="
                        display: flex;
                        justify-content: flex-start;
                        margin: 8px 0;
                    ">
                        <div style="
                            padding: 12px 16px; 
                            margin: 0 12px;
                            max-width: 75%;
                            background: rgba(255, 255, 255, 0.9); 
                            border-radius: 18px 18px 18px 4px; 
                            color: #6c757d; 
                            font-size: 14px; 
                            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        ">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <span style="color: #667eea; font-weight: 500;">đang trả lời</span>
                                <div style="display: flex; gap: 3px;">
                                    <div style="width: 6px; height: 6px; background: #667eea; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out;"></div>
                                    <div style="width: 6px; height: 6px; background: #667eea; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out; animation-delay: 0.2s;"></div>
                                    <div style="width: 6px; height: 6px; background: #667eea; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out; animation-delay: 0.4s;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                this.chatBody.appendChild(indicator);
                this.scrollToBottom();
                
                // Auto remove after 30 seconds
                setTimeout(() => {
                    if (indicator.parentNode) {
                        indicator.remove();
                    }
                }, 30000);
            }
            
            hideTypingIndicator() {
                const indicator = this.chatBody.querySelector('.typing-indicator');
                if (indicator) indicator.remove();
            }
            
            showNewMessageNotification() {
                this.chatToggle.classList.add('has-new-message');
            }
            
            clearWelcomeMessage() {
                const welcome = this.chatBody.querySelector('.chat-login-form');
                if (welcome) welcome.remove();
                
                // Ẩn 4 quick buttons khi user gửi message
                this.hideQuickButtons();
            }
            
            hideQuickButtons() {
                const quickActions = this.chatBody.querySelector('.quick-actions');
                if (quickActions) {
                    quickActions.style.transition = 'all 0.3s ease';
                    quickActions.style.opacity = '0';
                    quickActions.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        quickActions.style.display = 'none';
                    }, 300);
                }
            }
            
            updateWelcomeMessage() {
                const welcomeTitle = document.getElementById('chat-welcome-title');
                if (welcomeTitle && this.username) {
                    // Animate text change
                    welcomeTitle.style.opacity = '0';
                    welcomeTitle.style.transform = 'translateY(-10px)';
                    
                    setTimeout(() => {
                        welcomeTitle.innerHTML = `Xin chào <span style="
                            background: linear-gradient(135deg, #667eea, #764ba2);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                            font-weight: 700;
                            text-transform: capitalize;
                        ">${this.username}</span>! 👋`;
                        
                        welcomeTitle.style.opacity = '1';
                        welcomeTitle.style.transform = 'translateY(0)';
                        welcomeTitle.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                    }, 200);
                }
            }
            
            enableChat() {
                if (this.messageInput) {
                    this.messageInput.disabled = false;
                    this.messageInput.placeholder = 'Nhập tin nhắn...';
                }
                if (this.sendBtn) {
                    this.sendBtn.disabled = false;
                }
                
                // Enable emoji and attachment buttons
                if (this.emojiBtn) {
                    this.emojiBtn.disabled = false;
                }
                if (this.attachmentBtn) {
                    this.attachmentBtn.disabled = false;
                }
                
                // Show quick action buttons when logged in
                const quickActions = document.querySelector('.quick-actions');
                if (quickActions) {
                    quickActions.style.display = 'grid';
                }
                
                // Show chat input area when logged in
                const chatInputArea = document.querySelector('.chat-input-area');
                if (chatInputArea) {
                    chatInputArea.classList.remove('hidden');
                }
            }
            
            showLoginPrompt() {
                this.chatBody.innerHTML = `
                    <div class="chat-login-form" style="text-align: center; padding: 20px;">
                        <div class="login-icon" style="width: 60px; height: 60px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
                            <i class="fas fa-sign-in-alt" style="color: white; font-size: 24px;"></i>
                        </div>
                        <h3 style="color: white; margin: 0 0 10px;">Cần đăng nhập</h3>
                        <p id="login-message" style="color: rgba(255, 255, 255, 0.7); margin: 0 0 20px; min-height: 24px;"></p>
                        <a href="/auth/login" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 12px 24px; border-radius: 12px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px;">
                            <i class="fas fa-sign-in-alt"></i>
                            Đăng nhập ngay
                        </a>
                    </div>
                `;
                
                // Hide quick action buttons when not logged in
                const quickActions = document.querySelector('.quick-actions');
                if (quickActions) {
                    quickActions.style.display = 'none';
                }
                
                // Hide chat input area when not logged in
                const chatInputArea = document.querySelector('.chat-input-area');
                if (chatInputArea) {
                    chatInputArea.classList.add('hidden');
                }
                
                // Change placeholder text when not logged in (if somehow still visible)
                if (this.messageInput) {
                    this.messageInput.placeholder = 'Vui lòng đăng nhập để chat...';
                }
            }
            
            showError(message) {
                this.showNotification(message, 'error');
            }
            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                
                const icons = {
                    success: 'check-circle',
                    error: 'exclamation-triangle',
                    info: 'info-circle',
                    warning: 'exclamation-circle'
                };
                
                const gradients = {
                    success: 'linear-gradient(135deg, #00b894 0%, #00cec9 100%)',
                    error: 'linear-gradient(135deg, #e17055 0%, #d63031 100%)',
                    info: 'linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)',
                    warning: 'linear-gradient(135deg, #fdcb6e 0%, #e17055 100%)'
                };
                
                const iconColors = {
                    success: '#00b894',
                    error: '#d63031', 
                    info: '#0984e3',
                    warning: '#e17055'
                };
                
                notification.innerHTML = `
                    <div style="
                        display: flex; 
                        align-items: center; 
                        gap: 12px;
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            width: 36px;
                            height: 36px;
                            border-radius: 50%;
                            background: rgba(255, 255, 255, 0.2);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            flex-shrink: 0;
                            backdrop-filter: blur(10px);
                        ">
                            <i class="fas fa-${icons[type] || icons.info}" style="
                                color: white;
                                font-size: 16px;
                                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
                            "></i>
                        </div>
                        <div style="
                            flex: 1;
                            line-height: 1.4;
                            font-weight: 500;
                        ">${message}</div>
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
                            animation: shimmer 2s infinite;
                            pointer-events: none;
                        "></div>
                    </div>
                `;
                
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${gradients[type] || gradients.info};
                    color: white;
                    padding: 16px 20px;
                    border-radius: 16px;
                    font-size: 14px;
                    font-weight: 500;
                    z-index: 10001;
                    box-shadow: 0 12px 35px rgba(0,0,0,0.15), 0 2px 6px rgba(0,0,0,0.1);
                    opacity: 0;
                    transform: translateX(100%) scale(0.8);
                    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                    max-width: 350px;
                    word-wrap: break-word;
                    backdrop-filter: blur(20px);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    position: relative;
                    overflow: hidden;
                `;
                
                // Add shimmer animation
                const shimmerStyle = document.createElement('style');
                shimmerStyle.textContent = `
                    @keyframes shimmer {
                        0% { transform: translateX(-100%) rotate(45deg); }
                        100% { transform: translateX(200%) rotate(45deg); }
                    }
                `;
                document.head.appendChild(shimmerStyle);
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '1';
                    notification.style.transform = 'translateX(0) scale(1)';
                }, 100);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100%) scale(0.8)';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                        if (shimmerStyle.parentNode) {
                            shimmerStyle.parentNode.removeChild(shimmerStyle);
                        }
                    }, 500);
                }, 4000);
            }
            
            updateConnectionStatus(status) {
                const colors = {
                    connected: { text: 'Đang online', color: '#27ae60', online: true },
                    connecting: { text: 'Đang kết nối...', color: '#3498db', online: false },
                    error: { text: 'Vui lòng đăng nhập để chát...', color: '#e74c3c', online: false }
                };
                
                const statusInfo = colors[status] || colors.error;
                
                if (this.statusBar) {
                    this.statusBar.textContent = statusInfo.text;
                    this.statusBar.parentElement.style.background = statusInfo.color;
                    this.statusBar.parentElement.style.display = status === 'connected' ? 'none' : 'block';
                }
                
                if (this.statusIndicator) {
                    this.statusIndicator.innerHTML = `${statusInfo.online ? 'Đang online' : 'Đang offline'}`;
                    this.statusIndicator.className = statusInfo.online ? 'status online' : 'status offline';
                }
            }
            
            toggleChat() {
                if (this.isOpen) {
                    this.closeChat();
                } else {
                    this.openChat();
                }
            }
            
            openChat() {
                this.isOpen = true;
                this.chatWindow.classList.add('active');
                this.chatToggle.innerHTML = '<i class="fas fa-times"></i>';
                this.chatToggle.classList.remove('has-new-message');
                
                setTimeout(() => {
                    if (this.messageInput) {
                        this.messageInput.focus();
                    }
                }, 300);
                
                console.log('💬 Chat opened');
            }
            
            closeChat() {
                this.isOpen = false;
                this.chatWindow.classList.remove('active');
                this.chatToggle.innerHTML = '<i class="fas fa-comments"></i>';
                
                console.log('💬 Chat closed');
            }
            
            hideQuickButtons() {
                const quickActionsContainer = document.querySelector('.quick-actions');
                if (quickActionsContainer) {
                    quickActionsContainer.style.display = 'none';
                    console.log('🚫 Quick buttons hidden');
                }
            }
            
            scrollToBottom() {
                setTimeout(() => {
                    this.chatBody.scrollTop = this.chatBody.scrollHeight;
                }, 100);
            }
            
            startPolling() {
                this.pollInterval = setInterval(() => {
                    this.pollMessages();
                }, 3000); // Poll every 3 seconds
                
                console.log('🔄 Started message polling');
            }
            
            stopPolling() {
                if (this.pollInterval) {
                    clearInterval(this.pollInterval);
                    this.pollInterval = null;
                    console.log('⏹️ Stopped message polling');
                }
            }
        }
        
        // Initialize Live Chat Widget
        window.liveChatWidget = new LiveChatWidget();
        
        // Typewriter effect for subtitle - Loop forever
        function typewriterEffect() {
            const subtitle = document.getElementById('chat-subtitle');
            if (!subtitle) return;
            
            const text = "Chúng tôi có thể giúp gì cho bạn hôm nay?";
            let i = 0;
            let isDeleting = false;
            
            function typeWriter() {
                if (!isDeleting) {
                    // Đang gõ chữ
                    if (i < text.length) {
                        subtitle.innerHTML = text.substring(0, i + 1) + '<span style="animation: blink 1s infinite;">|</span>';
                        i++;
                        setTimeout(typeWriter, 80); // Tốc độ gõ chữ
                    } else {
                        // Gõ xong, chờ rồi bắt đầu xóa
                        setTimeout(() => {
                            isDeleting = true;
                            typeWriter();
                        }, 2000); // Chờ 2 giây trước khi xóa
                    }
                } else {
                    // Đang xóa chữ
                    if (i > 0) {
                        subtitle.innerHTML = text.substring(0, i - 1) + '<span style="animation: blink 1s infinite;">|</span>';
                        i--;
                        setTimeout(typeWriter, 50); // Tốc độ xóa nhanh hơn
                    } else {
                        // Xóa xong, bắt đầu gõ lại
                        isDeleting = false;
                        setTimeout(typeWriter, 500); // Chờ 0.5s trước khi gõ lại
                    }
                }
            }
            
            // Delay trước khi bắt đầu gõ lần đầu
            setTimeout(typeWriter, 1000);
        }
        
        // Typewriter effect for login message
        function loginMessageTypewriter() {
            const loginMessage = document.getElementById('login-message');
            if (!loginMessage) return;
            
            const text = "Vui lòng đăng nhập để sử dụng tính năng chat hỗ trợ";
            let i = 0;
            let isDeleting = false;
            
            function typeWriter() {
                if (!isDeleting) {
                    // Đang gõ chữ
                    if (i < text.length) {
                        loginMessage.innerHTML = text.substring(0, i + 1) + '<span style="animation: blink 1s infinite;">|</span>';
                        i++;
                        setTimeout(typeWriter, 70); // Tốc độ gõ chữ
                    } else {
                        // Gõ xong, chờ rồi bắt đầu xóa
                        setTimeout(() => {
                            isDeleting = true;
                            typeWriter();
                        }, 3000); // Chờ 3 giây trước khi xóa
                    }
                } else {
                    // Đang xóa chữ
                    if (i > 0) {
                        loginMessage.innerHTML = text.substring(0, i - 1) + '<span style="animation: blink 1s infinite;">|</span>';
                        i--;
                        setTimeout(typeWriter, 40); // Tốc độ xóa nhanh hơn
                    } else {
                        // Xóa xong, bắt đầu gõ lại
                        isDeleting = false;
                        setTimeout(typeWriter, 800); // Chờ 0.8s trước khi gõ lại
                    }
                }
            }
            
            // Delay trước khi bắt đầu gõ lần đầu
            setTimeout(typeWriter, 500);
        }
        
        // Chạy typewriter effect sau khi chat widget load xong
        setTimeout(typewriterEffect, 1500);
        setTimeout(loginMessageTypewriter, 2000);
        
        console.log('✨ Modern header and live chat initialized successfully!');
    });
    
    // Add ripple animation CSS
    const rippleStyle = document.createElement('style');
    rippleStyle.textContent = `
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Bounce animation for typing indicator */
        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
    `;
    document.head.appendChild(rippleStyle);
    
    // Global functions for debugging and fixing
    window.fixAttachmentButton = function() {
        console.log('🔧 Manually fixing attachment button...');
        
        if (window.liveChatWidget && window.liveChatWidget.bindAttachmentEvents) {
            window.liveChatWidget.bindAttachmentEvents();
            return true;
        }
        
        // Fallback manual fix
        const attachBtn = document.getElementById('chatAttachmentBtn');
        const fileInput = document.getElementById('chatFileInput');
        
        if (attachBtn && fileInput) {
            attachBtn.onclick = function(e) {
                e.preventDefault();
                console.log('📎 Manual attachment fix triggered');
                fileInput.click();
            };
            console.log('✅ Manual attachment fix applied');
            return true;
        }
        
        console.log('❌ Cannot fix - elements not found');
        return false;
    };
    
    window.debugChatElements = function() {
        const elements = [
            'chatToggle', 'chatWindow', 'chatAttachmentBtn', 'chatFileInput',
            'chatBody', 'messageInput', 'sendBtn', 'emojiBtn'
        ];
        
        console.log('=== CHAT ELEMENTS DEBUG ===');
        elements.forEach(id => {
            const el = document.getElementById(id);
            console.log(`${id}:`, el ? '✅ Found' : '❌ Missing', el);
        });
        console.log('Chat Widget Instance:', window.liveChatWidget);
        console.log('=========================');
    };
    
    </script>
    
    <!-- Instant Attachment Fix -->
    <script>
    // Inline instant fix to ensure it runs immediately
    (function() {
        console.log('🚀 Instant Attachment Fix Loading...');
        
        function instantFix() {
            if (window.liveChatWidget && window.liveChatWidget.bindAttachmentEvents) {
                console.log('🔧 Using widget method...');
                window.liveChatWidget.bindAttachmentEvents();
                return true;
            }
            
            const attachBtn = document.getElementById('chatAttachmentBtn');
            const fileInput = document.getElementById('chatFileInput');
            
            if (attachBtn && fileInput) {
                console.log('🔧 Applying direct fix...');
                attachBtn.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('📎 Attachment clicked! Opening file dialog...');
                    fileInput.click();
                };
                console.log('✅ Direct fix applied successfully!');
                return true;
            }
            
            return false;
        }
        
        // Try multiple times
        setTimeout(instantFix, 100);
        setTimeout(instantFix, 500);  
        setTimeout(instantFix, 1000);
        setTimeout(instantFix, 2000);
        
        // Watch for chat opens
        document.addEventListener('click', function(e) {
            if (e.target.id === 'chatToggle' || e.target.closest('#chatToggle')) {
                setTimeout(instantFix, 1000);
            }
        });
        
        window.instantAttachmentFix = instantFix;
    })();
    
    // Check login for recharge pages
    function checkRechargeLogin(url) {
                    // User is not logged in, redirect to login page
            window.location.href = '/auth/login';
            }
    
    // Check login for tool pages (like image uploader)
    function checkToolLogin(url) {
                    // User is not logged in, redirect to login page with return URL
            const returnUrl = encodeURIComponent(url);
            window.location.href = `/auth/login?return=${returnUrl}`;
            }
    </script>
</body>

</html>
<style>
:root {
    --bg: #0f0f23;
    --panel: #1a1a2e;
    --muted: #a8b2d1;
    --text: #ffffff;
    --accent: #00d4aa;
    --accent-secondary: #667eea;
    --danger: #ff6b6b;
    --warning: #fbbf24;
    --success: #22c55e;
    --glass: rgba(255, 255, 255, 0.1);
}

body {
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
    min-height: 100vh;
    color: var(--text);
    font-family: "Inter", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    position: relative;
}

/* Floating particles effect */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, rgba(0, 212, 170, 0.4), transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(102, 126, 234, 0.4), transparent),
        radial-gradient(1px 1px at 90px 40px, rgba(0, 212, 170, 0.3), transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(102, 126, 234, 0.3), transparent);
    background-repeat: repeat;
    background-size: 250px 200px;
    animation: float 30s infinite linear;
    pointer-events: none;
    z-index: -1;
}

@keyframes float {
    0% { transform: translateY(0px) translateX(0px); }
    25% { transform: translateY(-15px) translateX(10px); }
    50% { transform: translateY(0px) translateX(-10px); }
    75% { transform: translateY(15px) translateX(10px); }
    100% { transform: translateY(0px) translateX(0px); }
}

/* Modern Title */
.modern-title-section {
    text-align: center;
    margin-bottom: 50px;
    padding: 30px 0;
}

.modern-section-title {
    font-size: 1.8rem;
    font-weight: 800;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0;
    
}

.gradient-text {
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.title-decoration {
    width: 120px;
    height: 4px;
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    margin: 20px auto;
    border-radius: 2px;
    
    position: relative;
}

.title-decoration::before,
.title-decoration::after {
    content: '';
    position: absolute;
    width: 30px;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #00d4aa 100%);
    border-radius: 2px;
    top: 0;
}

.title-decoration::before {
    left: -40px;
    animation: pulse 2s infinite;
}

.title-decoration::after {
    right: -40px;
    animation: pulse 2s infinite 1s;
}

@keyframes pulse {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
}

/* Modern Cards Grid */
.games-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    padding: 20px 0;
    justify-items: center;
    align-items: stretch;
    max-width: 1200px;
    margin: 0 auto;
}

.game-card {
    background: linear-gradient(145deg, rgba(26, 26, 46, 0.95) 0%, rgba(22, 33, 62, 0.95) 100%);
    border: 1px solid rgba(0, 212, 170, 0.3);
    border-radius: 20px;
    overflow: hidden;
    backdrop-filter: blur(20px);
    
    transition: all 0.3s ease;
    position: relative;
    width: 100%;
    max-width: 380px;
    margin: 0 auto;
}

.game-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(102, 126, 234, 0.1));
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 20px;
    z-index: 0;
}

.game-card:hover {
    transform: translateY(-8px) scale(1.02);
    
    border-color: rgba(0, 212, 170, 0.6);
}

.game-card:hover::before {
    opacity: 1;
}

/* Game Image */
.game-image {
    position: relative;
    height: 180px;
    overflow: hidden;
    border-radius: 20px 20px 0 0;
}

.game-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.game-card:hover .game-image img {
    transform: scale(1.05);
}

.game-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(transparent, rgba(26, 26, 46, 0.8));
}

/* Game Content */
.game-content {
    padding: 25px;
    position: relative;
    z-index: 1;
}

.game-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 15px 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: flex;
    align-items: center;
    gap: 8px;
}

.game-description {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.95rem;
    line-height: 1.6;
    margin-bottom: 20px;
    min-height: 48px;
}

/* Modern Button */
.btn-modern {
    padding: 15px 25px;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    color: #ffffff;
    
    
}

.btn-modern::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-modern:hover::before {
    left: 100%;
}

.btn-modern:hover {
    transform: translateY(-2px);
    
    background: linear-gradient(135deg, #667eea 0%, #00d4aa 100%);
    text-decoration: none;
    color: #ffffff;
}

/* Animate.css CDN for animations */
@import url('https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css');

/* Event Popup Notification */
.event-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.5s ease;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    touch-action: auto;
    -webkit-tap-highlight-color: transparent;
    cursor: pointer;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.event-popup-overlay.show {
    opacity: 1;
    visibility: visible;
}

.event-popup {
    background: linear-gradient(145deg, rgba(26, 26, 46, 0.98) 0%, rgba(22, 33, 62, 0.98) 100%);
    border: 2px solid rgba(0, 212, 170, 0.4);
    border-radius: 25px;
    padding: 40px 35px;
    max-width: 450px;
    width: 90%;
    text-align: center;
    backdrop-filter: blur(20px);
    
    position: relative;
    overflow: hidden;
    transform: scale(0.8) translateY(50px);
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.event-popup-overlay.show .event-popup {
    transform: scale(1) translateY(0);
}

.event-popup::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.08), rgba(102, 126, 234, 0.08));
    z-index: 0;
    border-radius: 25px;
}

.event-popup-content {
    position: relative;
    z-index: 1;
}

.event-popup-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(255, 107, 107, 0.2);
    border: none;
    color: #ff6b6b;
    font-size: 20px;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 2;
}

.event-popup-close:hover {
    background: rgba(255, 107, 107, 0.4);
    transform: scale(1.1);
}

.event-popup-icon {
    font-size: 4rem;
    color: #00d4aa;
    margin-bottom: 20px;
    animation: iconBounce 2s infinite ease-in-out;
}

@keyframes iconBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.event-popup-title {
    font-size: 2rem;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 15px;
    
}

.event-popup-website {
    font-size: 1.8rem;
    font-weight: 700;
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 25px;
    letter-spacing: 1px;
}

.event-popup-promo {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: #1a1a2e;
    padding: 15px 25px;
    border-radius: 15px;
    font-size: 1.4rem;
    font-weight: 800;
    margin-bottom: 20px;
    
    
    position: relative;
    overflow: hidden;
}

.event-popup-promo::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.event-popup-time {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 15px;
    padding: 12px 20px;
    background: rgba(0, 212, 170, 0.1);
    border-radius: 10px;
    border: 1px solid rgba(0, 212, 170, 0.3);
}

.event-popup-celebration {
    font-size: 1.1rem;
    color: #ffffff;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.event-popup-celebration .emoji {
    font-size: 1.5rem;
    animation: celebrationBounce 1s infinite alternate;
}

@keyframes celebrationBounce {
    0% { transform: scale(1); }
    100% { transform: scale(1.2); }
}

.event-popup-description {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 20px;
    line-height: 1.5;
}

.event-popup-link {
    color: #00d4aa;
    font-weight: 600;
    text-decoration: none;
    border-bottom: 1px dotted #00d4aa;
    transition: all 0.3s ease;
}

.event-popup-link:hover {
    color: #667eea;
    border-bottom-color: #667eea;
}

.event-popup-buttons {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-top: 25px;
}

.event-popup-buttons.horizontal-layout {
    display: flex;
    flex-direction: row;
    gap: 12px;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;
}

.event-popup-button {
    padding: 8px 16px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    position: relative;
    overflow: hidden;
}

.event-popup-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.event-popup-button:hover::before {
    left: 100%;
}

.btn-popup-ok {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
    color: #ffffff;
}

.btn-popup-ok:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, #c82333 0%, #bd2130 100%);
}

.btn-popup-remind {
    background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
    color: #000000;
    font-weight: 700;
}

.btn-popup-remind:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, #e0a800 0%, #d39e00 100%);
}

/* Telegram buttons in popup */
.telegram-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    border-radius: 20px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.85rem;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    min-width: 130px;
    justify-content: center;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
}

.telegram-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.telegram-btn:hover::before {
    left: 100%;
}

.admin-btn {
    background: linear-gradient(135deg, #0088cc 0%, #0066aa 100%);
    color: #ffffff;
    border: 2px solid #0088cc;
}

.admin-btn:hover {
    background: linear-gradient(135deg, #0066aa 0%, #004488 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 136, 204, 0.4);
    color: #ffffff;
    text-decoration: none;
}

.channel-btn {
    background: linear-gradient(135deg, #ff6b35 0%, #ff4500 100%);
    color: #ffffff;
    border: 2px solid #ff6b35;
}

.channel-btn:hover {
    background: linear-gradient(135deg, #ff4500 0%, #cc3700 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(255, 107, 53, 0.4);
    color: #ffffff;
    text-decoration: none;
}

.telegram-btn i {
    font-size: 14px;
}

/* Telegram buttons container */
.telegram-buttons-container {
    text-align: center;
    margin-top: 15px;
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .event-popup {
        padding: 25px 30px;
        max-width: 90vw;
        max-height: 70vh;
        width: auto;
        min-width: 320px;
    }
    
    .event-popup-title {
        font-size: 1.4rem;
        margin-bottom: 10px;
    }
    
    .event-popup-website {
        font-size: 1.2rem;
    }
    
    .event-popup-promo {
        font-size: 1rem;
        padding: 10px 15px;
        margin-bottom: 15px;
    }
    
    .modal-body p {
        font-size: 0.9rem;
        margin-bottom: 10px;
    }
    
    .modal-body br {
        display: none;
    }
    
    .event-popup-buttons {
        flex-direction: row !important;
        gap: 10px !important;
        flex-wrap: nowrap !important;
        justify-content: center !important;
    }
    
    .event-popup-buttons.horizontal-layout {
        flex-direction: row !important;
        gap: 10px !important;
        flex-wrap: nowrap !important;
    }
    
    .event-popup-button {
        flex: 1 1 auto;
        min-width: 110px;
        max-width: 140px;
        justify-content: center;
        padding: 8px 12px;
        font-size: 0.8rem;
    }
    
    /* Telegram buttons mobile responsive */
    .telegram-btn {
        padding: 10px 14px;
        font-size: 0.8rem;
        min-width: 120px;
        gap: 5px;
    }
    
    .telegram-btn i {
        font-size: 12px;
    }
    
    /* Container for telegram buttons on mobile */
    .telegram-buttons-container {
        flex-direction: row !important;
        justify-content: center !important;
        align-items: center !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        margin-top: 12px !important;
    }
}
    .games-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
    }
}

@media (max-width: 768px) {
    .games-grid {
        grid-template-columns: 1fr;
        gap: 15px;
        padding: 15px;
        margin: 0 auto;
        max-width: none;
        display: grid !important;
        justify-content: center;
        align-items: stretch;
    }
    
    .game-card {
        margin: 0 auto;
        max-width: 400px;
        width: 100%;
    }
    
    .modern-section-title {
        font-size: 1.5rem;
        letter-spacing: 1px;
    }
    
    .game-content {
        padding: 20px;
    }
    
    .game-title {
        font-size: 1.1rem;
    }
    
    .btn-modern {
        padding: 12px 20px;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .games-grid {
        padding: 10px;
        grid-template-columns: 1fr !important;
        gap: 12px;
        justify-items: center;
    }
    
    .game-card {
        margin: 0 auto;
        max-width: 350px;
        width: calc(100% - 20px);
    }
    
    .modern-section-title {
        font-size: 1.3rem;
    }
    
    .title-decoration {
        width: 100px;
    }
    
    .title-decoration::before,
    .title-decoration::after {
        width: 25px;
    }
    
    .container {
        padding-left: 10px !important;
        padding-right: 10px !important;
    }
    
    .custom-container {
        max-width: 100% !important;
        padding: 0 10px !important;
    }
    
    /* Popup mobile responsive for very small screens */
    .event-popup {
        padding: 20px 25px;
        max-width: 95vw;
        max-height: 80vh;
        width: auto;
        min-width: 300px;
    }
    
    .event-popup-title {
        font-size: 1.2rem;
        margin-bottom: 8px;
    }
    
    .telegram-btn {
        padding: 8px 12px;
        font-size: 0.75rem;
        min-width: 110px;
        gap: 4px;
    }
    
    .telegram-btn i {
        font-size: 11px;
    }
    
    .event-popup-button {
        padding: 8px 10px;
        font-size: 0.75rem;
        min-width: 100px;
        max-width: 130px;
        flex: 1 1 auto;
    }
    
    .event-popup-buttons {
        gap: 8px !important;
    }
    
    .event-popup-buttons.horizontal-layout {
        gap: 8px !important;
        flex-wrap: nowrap !important;
    }
}

/* Landscape Mobile Orientation */
@media screen and (max-height: 600px) and (orientation: landscape) {
    .event-popup {
        max-width: 80vw;
        max-height: 85vh;
        padding: 15px 25px;
        overflow-y: auto;
    }
    
    .event-popup-title {
        font-size: 1.3rem;
        margin-bottom: 8px;
    }
    
    .modal-body {
        margin-bottom: 15px;
    }
    
    .modal-body p {
        font-size: 0.85rem;
        margin-bottom: 8px;
        line-height: 1.4;
    }
    
    .event-popup-buttons {
        margin-top: 15px;
    }
    
    .event-popup-button {
        padding: 6px 12px;
        font-size: 0.8rem;
    }
}

/* Very small landscape screens */
@media screen and (max-height: 500px) and (orientation: landscape) {
    .event-popup {
        max-width: 75vw;
        max-height: 90vh;
        padding: 12px 20px;
    }
    
    .event-popup-title {
        font-size: 1.1rem;
        margin-bottom: 5px;
    }
    
    .modal-body p {
        font-size: 0.8rem;
        margin-bottom: 5px;
    }
    
    .event-popup-buttons {
        margin-top: 10px;
    }
    
    .event-popup-button {
        padding: 5px 10px;
        font-size: 0.75rem;
    }
}

/* Floating Menu Button Styles */
.floating-menu-container {
    position: fixed;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 15px;
}

.floating-menu-toggle {
    width: 50px;
    height: 100px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 15px 0 0 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: -2px 0 20px rgba(102, 126, 234, 0.3), 
                0 0 15px rgba(118, 75, 162, 0.2);
    position: relative;
    overflow: hidden;
    color: white;
    font-size: 18px;
    margin-right: 0;
    outline: none;
    -webkit-tap-highlight-color: transparent;
}

.floating-menu-toggle::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent);
    border-radius: 15px 0 0 15px;
    opacity: 0;
    transition: all 0.4s ease;
}

.floating-menu-toggle::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 30px;
    height: 30px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.floating-menu-toggle:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    box-shadow: -3px 0 25px rgba(102, 126, 234, 0.4), 
                0 0 20px rgba(118, 75, 162, 0.3);
    transform: translateX(-2px);
}

.floating-menu-toggle:hover::before {
    opacity: 1;
}

.floating-menu-toggle:hover::after {
    transform: translate(-50%, -50%) scale(1);
}

.floating-menu-toggle.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
    box-shadow: -3px 0 30px rgba(139, 92, 246, 0.5), 
                0 0 25px rgba(6, 182, 212, 0.3);
    transform: translateX(-3px);
}

.floating-menu-toggle.active::after {
    transform: translate(-50%, -50%) scale(1.2);
    background: rgba(255, 255, 255, 0.2);
}

.floating-menu-toggle i {
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    z-index: 2;
    position: relative;
    animation: globeRotate 4s linear infinite;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.floating-menu-toggle:hover i {
    animation-duration: 1s;
    transform: scale(1.1);
}

.floating-menu-toggle.active i {
    animation-duration: 0.8s;
    transform: scale(1.2);
    color: #ffffff;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

@keyframes globeRotate {
    0% {
        transform: rotateY(0deg);
    }
    100% {
        transform: rotateY(360deg);
    }
}

/* Floating Menu Popup */
.floating-menu-popup {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%) translateX(100%);
    background: linear-gradient(145deg, rgba(26, 26, 46, 0.98) 0%, rgba(22, 33, 62, 0.98) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px 0 0 20px;
    padding: 25px;
    min-width: 320px;
    max-width: 380px;
    opacity: 0;
    visibility: hidden;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    transition: all 0.3s ease;
    box-shadow: -10px 0 40px rgba(0, 0, 0, 0.4);
    z-index: 10001;
}

.floating-menu-popup.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(-50%) translateX(0);
}

.floating-menu-popup::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(0, 212, 170, 0.08));
    border-radius: 20px 0 0 20px;
    z-index: 0;
}

.floating-menu-header {
    text-align: center;
    margin-bottom: 20px;
    position: relative;
    z-index: 1;
}

.floating-menu-close {
    position: absolute;
    top: -5px;
    right: 5px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 18px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 2;
}

.floating-menu-close:hover {
    background: rgba(255, 255, 255, 0.2);
    color: #ffffff;
    transform: scale(1.1);
}

.floating-menu-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 5px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    min-height: 1.6rem;
    position: relative;
}

.floating-menu-title::after {
    content: '|';
    color: #667eea;
    animation: blink 1s infinite;
    margin-left: 2px;
}

.floating-menu-subtitle {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    margin: 0;
    min-height: 1.2rem;
    position: relative;
}

.floating-menu-subtitle::after {
    content: '|';
    color: rgba(255, 255, 255, 0.7);
    animation: blink 1s infinite;
    margin-left: 2px;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.floating-menu-items {
    display: flex;
    flex-direction: column;
    gap: 12px;
    position: relative;
    z-index: 1;
}

.floating-menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    text-decoration: none;
    color: #ffffff;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.floating-menu-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
    transition: left 0.4s ease;
}

.floating-menu-item:hover::before {
    left: 100%;
}

.floating-menu-item:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    color: #ffffff;
    text-decoration: none;
}

.floating-menu-item-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    flex-shrink: 0;
}

.floating-menu-item-content {
    flex: 1;
}

.floating-menu-item-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 3px 0;
    line-height: 1.2;
}

.floating-menu-item-desc {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
    margin: 0;
    line-height: 1.3;
}

/* Floating Menu Arrow */
.floating-menu-item-arrow {
    margin-left: auto;
    margin-right: 8px;
    color: rgba(255, 255, 255, 0.6);
    font-size: 14px;
    transition: all 0.3s ease;
}

.floating-menu-item:hover .floating-menu-item-arrow {
    color: rgba(255, 255, 255, 0.9);
    transform: translateX(3px);
}

/* Active menu item styles */
.floating-menu-item.menu-item-active {
    background: rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.floating-menu-item.menu-item-active .floating-menu-item-arrow {
    color: rgba(255, 255, 255, 1);
}

/* Submenu Styles */
.floating-menu-submenu {
    display: none;
    flex-direction: column;
    gap: 8px;
    margin: 8px 0;
    padding-left: 15px;
    border-left: 2px solid rgba(255, 255, 255, 0.1);
    animation: slideDown 0.3s ease;
}

.floating-menu-submenu.show {
    display: flex;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.floating-menu-submenu .floating-menu-item {
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.03);
    border-left: 3px solid transparent;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.floating-menu-submenu .floating-menu-item:hover {
    background: rgba(255, 255, 255, 0.08);
    border-left-color: rgba(255, 255, 255, 0.3);
    transform: translateX(5px);
}

/* Specific item colors */
.menu-item-payment .floating-menu-item-icon {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.menu-item-bank-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
}

.menu-item-card-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
    color: white;
}

.menu-item-tools .floating-menu-item-icon {
    background: linear-gradient(135deg, #9c27b0 0%, #673ab7 100%);
    color: white;
}

.menu-item-crack-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #e91e63 0%, #9c27b0 100%);
    color: white;
}

.menu-item-upload-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #2196f3 0%, #03a9f4 100%);
    color: white;
}

.menu-item-sign-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #ff9800 0%, #ff5722 100%);
    color: white;
}

.menu-item-admin .floating-menu-item-icon {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
}

.menu-item-telegram-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #0088cc 0%, #0077b5 100%);
    color: white;
}

.menu-item-group-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    color: white;
}

.menu-item-channel-sub .floating-menu-item-icon {
    background: linear-gradient(135deg, #fd7e14 0%, #e85d04 100%);
    color: white;
}

.menu-item-bank .floating-menu-item-icon {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
}

.menu-item-api .floating-menu-item-icon {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    color: white;
}

.menu-item-buy .floating-menu-item-icon {
    background: linear-gradient(135deg, #28a745 0%, #34ce57 100%);
    color: white;
}

.menu-item-ads .floating-menu-item-icon {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    color: white;
}

.menu-item-contact .floating-menu-item-icon {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    color: #333;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .floating-menu-container {
        right: 0;
    }
    
    .floating-menu-toggle {
        width: 45px;
        height: 85px;
        font-size: 16px;
        border-radius: 12px 0 0 12px;
        box-shadow: -2px 0 15px rgba(102, 126, 234, 0.25), 
                    0 0 10px rgba(118, 75, 162, 0.15);
    }
    
    .floating-menu-toggle::before {
        border-radius: 12px 0 0 12px;
    }
    
    .floating-menu-toggle::after {
        width: 25px;
        height: 25px;
    }
    
    .floating-menu-toggle:hover {
        box-shadow: -3px 0 20px rgba(102, 126, 234, 0.35), 
                    0 0 15px rgba(118, 75, 162, 0.25);
    }
    
    .floating-menu-toggle.active {
        box-shadow: -3px 0 25px rgba(139, 92, 246, 0.4), 
                    0 0 20px rgba(6, 182, 212, 0.25);
    }
    
    .floating-menu-popup {
        right: 0;
        min-width: 280px;
        max-width: calc(100vw - 60px);
        padding: 20px;
        box-shadow: -8px 0 30px rgba(0, 0, 0, 0.4);
        border-radius: 15px 0 0 15px;
    }
    
    .floating-menu-popup::before {
        border-radius: 15px 0 0 15px;
    }
    
    .floating-menu-title {
        font-size: 1.2rem;
    }
    
    .floating-menu-item {
        padding: 10px 12px;
    }
    
    .floating-menu-item-icon {
        width: 35px;
        height: 35px;
        font-size: 16px;
    }
    
    .floating-menu-item-title {
        font-size: 0.9rem;
    }
    
    .floating-menu-item-desc {
        font-size: 0.75rem;
    }
}

@media (max-width: 480px) {
    .floating-menu-container {
        right: 0;
    }
    
    .floating-menu-toggle {
        width: 40px;
        height: 70px;
        font-size: 14px;
        border-radius: 10px 0 0 10px;
        box-shadow: -2px 0 12px rgba(102, 126, 234, 0.2), 
                    0 0 8px rgba(118, 75, 162, 0.1);
    }
    
    .floating-menu-toggle::before {
        border-radius: 10px 0 0 10px;
    }
    
    .floating-menu-toggle::after {
        width: 20px;
        height: 20px;
    }
    
    .floating-menu-toggle:hover {
        box-shadow: -3px 0 18px rgba(102, 126, 234, 0.3), 
                    0 0 12px rgba(118, 75, 162, 0.2);
    }
    
    .floating-menu-toggle.active {
        box-shadow: -3px 0 22px rgba(139, 92, 246, 0.35), 
                    0 0 18px rgba(6, 182, 212, 0.2);
    }
    
    .floating-menu-popup {
        right: 0;
        min-width: 260px;
        max-width: calc(100vw - 50px);
        padding: 18px;
        border-radius: 12px 0 0 12px;
        box-shadow: -6px 0 25px rgba(0, 0, 0, 0.4);
    }
    
    .floating-menu-popup::before {
        border-radius: 12px 0 0 12px;
    }
    
    .floating-menu-title {
        font-size: 1.1rem;
    }
    
    .floating-menu-item {
        padding: 8px 10px;
        gap: 10px;
        border-radius: 10px;
    }
    
    .floating-menu-item-icon {
        width: 32px;
        height: 32px;
        font-size: 14px;
        border-radius: 8px;
    }
    
    .floating-menu-item-title {
        font-size: 0.85rem;
    }
    
    .floating-menu-item-desc {
        font-size: 0.7rem;
    }
    
    .floating-menu-item-arrow {
        font-size: 12px;
        margin-right: 6px;
    }
    
    .floating-menu-submenu {
        padding-left: 12px;
        gap: 6px;
        margin: 6px 0;
    }
    
    .floating-menu-submenu .floating-menu-item {
        padding: 8px 10px;
    }
    
    .floating-menu-submenu .floating-menu-item-icon {
        width: 28px;
        height: 28px;
        font-size: 12px;
    }
    
    .floating-menu-submenu .floating-menu-item-title {
        font-size: 0.8rem;
    }
    
    .floating-menu-submenu .floating-menu-item-desc {
        font-size: 0.65rem;
    }
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<main>
    <!-- Event Popup -->
    <div class="event-popup-overlay" id="eventPopup" onclick="closeEventPopup()">
        <div class="event-popup" onclick="event.stopPropagation()">
            <button class="event-popup-close" onclick="closeEventPopup()">
                <i class="fas fa-times"></i>
            </button>
            <div class="event-popup-content">
                <div class="event-popup-icon">
                    
                </div>
                <h2 class="event-popup-title">
                    CheatiOSVip.Com<img src="https://i.imgur.com/aRBAI8M.png" alt="logo" style="width: 24px; height: 24px; margin-left: 2px; vertical-align: middle;">
                </h2>
                <div class="modal-body">
                <p style="text-align:center">
                    <span style="color:#3366ff;"><strong>Hệ thống tích hợp API nạp tiền tự động chỉ vài giây</strong></span>
                    <img alt="" src="https://bclone.vn/upload/blog/new.gif">
                </p>
                <p style="text-align:center">
                    <span style="color:#e74c3c;"><strong>Nạp Tiền Qua: <a href="javascript:void(0)" onclick="checkLoginAndRedirect('/recharge/card')"><font color="#3366ff">Card</font></a>  - <a href="javascript:void(0)" onclick="checkLoginAndRedirect('/recharge/bank')"><font color="#3366ff">ATM</font></a>&nbsp;</strong></span>
                    <img alt="" src="https://bclone.vn/upload/theme/hot.gif">
                </p>
                <br>
                <p style="text-align:center">
                    <span class="rainbow-text">Mọi người gặp vấn đề gì hãy ib để được hỗ trợ tốt nhất</span>
                    <br>
                    <a href="https://t.me/canhioscrack" style="color:#3366ff; text-decoration: none;">Telegram</a> hoặc 
                    <a href="https://t.me/crackcyipa" style="color:#3366ff; text-decoration: none;">Kênh</a>
                    <img alt="" src="https://i.pinimg.com/originals/48/b7/2e/48b72e9703bcfa18de70efa8b7fa6dc0.gif" style="width: 20px; height: auto; margin-left: 0px;">
                </p>
                
                <div class="event-popup-buttons horizontal-layout">
                    <button class="event-popup-button btn-popup-remind" onclick="remindLater()">
                        <i class="fas fa-clock"></i> Đóng 3 giờ
                    </button>
                    <button class="event-popup-button btn-popup-ok" onclick="closeEventPopup()">
                        <i class="fas fa-check"></i> Đóng
                    </button>
                </div>
                <br>
            </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <section class="third-about-area third-about-bg pb-90">
        <div class="container custom-container">
            <div class="row align-items-center"></div>
            <div id="games-list">
                <div class="see-my-info-wrap pt-25">
                    <!-- Modern Title Section -->
                    <div class="row">
                        <div class="col-12">
                            <div class="modern-title-section">
                                <h2 class="modern-section-title">
                                    <i class="fa-solid fa-gamepad"></i> CÁC BẢN HACK TẠI <span class="gradient-text">CHEATIOSVIP.COM</span>
                                </h2>
                                <div class="title-decoration"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Modern Games Grid -->
                    <div class="games-grid">
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/cate/hack-free-fire'>
                                    <img src="upload/product/productLVNGJM.png" alt="Hack Free Fire" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-gamepad"></i>
                                    Hack Free Fire                                </h3>
                                
                                <p class="game-description">Hack  FreeFire iOS - Androi</p>
                                
                                <a href="/cate/hack-free-fire" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/cate/hack-lien-quan-mobile'>
                                    <img src="upload/product/product9NOZKH.png" alt="Hack Liên Quân Mobile" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-gamepad"></i>
                                    Hack Liên Quân Mobile                                </h3>
                                
                                <p class="game-description">Hack Máp Liên Quân iOS  - Androi</p>
                                
                                <a href="/cate/hack-lien-quan-mobile" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/cate/hack-playtoger'>
                                    <img src="upload/product/product2417NC.png" alt="Hack Playtoger" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-gamepad"></i>
                                    Hack Playtoger                                </h3>
                                
                                <p class="game-description">Hack Playtoger iOS  - Androi</p>
                                
                                <a href="/cate/hack-playtoger" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/cate/-hack-8-ballpool'>
                                    <img src="upload/product/productNDMSI2.png" alt="Hack  8 BallPool" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-gamepad"></i>
                                    Hack  8 BallPool                                </h3>
                                
                                <p class="game-description">Hack  8 Ball iOS Vip</p>
                                
                                <a href="/cate/-hack-8-ballpool" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                            </div>

                    <!-- Account Categories Section -->
                    <div class="row">
                        <div class="col-12">
                            <div class="modern-title-section" style="margin-top: 80px;">
                                <h2 class="modern-section-title">
                                    <i class="fa-solid fa-user-group"></i> TÀI KHOẢN <span class="gradient-text">CLONE</span>
                                </h2>
                                <div class="title-decoration"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Account Games Grid -->
                    <div class="games-grid">
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/account/acc-freefire-lv5'>
                                    <img src="https://i.imgur.com/ORw38g7.gif" alt="Acc FreeFire Lv5" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-user-circle"></i>
                                    Acc FreeFire Lv5                                </h3>
                                
                                <p class="game-description">Acc Lv5 Đã Mở Chế Độ Xếp Hạng</p>
                                
                                <a href="/account/acc-freefire-lv5" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/account/acc-freefire-lv8'>
                                    <img src="https://i.imgur.com/ORw38g7.gif" alt="Acc FreeFire Lv8" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-user-circle"></i>
                                    Acc FreeFire Lv8                                </h3>
                                
                                <p class="game-description">Acc Lv8 Mở Thêm Quân Đoàn Chiến</p>
                                
                                <a href="/account/acc-freefire-lv8" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                                <div class="game-card">
                            <div class="game-image">
                                <a href='/account/random-acc-lien-quan'>
                                    <img src="https://i.imgur.com/Ikxwpo2.gif" alt="Random Acc Liên Quân" loading="lazy">
                                </a>
                            </div>

                            <div class="game-content">
                                <h3 class="game-title">
                                    <i class="fa-solid fa-user-circle"></i>
                                    Random Acc Liên Quân                                </h3>
                                
                                <p class="game-description">Túi Mù Liên Quân Siêu Rẻ</p>
                                
                                <a href="/account/random-acc-lien-quan" class="btn-modern">
                                    <i class="fas fa-shopping-cart"></i>
                                    Thuê Ngay
                                </a>
                            </div>
                        </div>
                                            </div>

                    <!-- Modern Floating Particles Background -->
                    <div class="floating-particles">
                        <span style="animation-delay: 0s"></span>
                        <span style="animation-delay: 0.5s"></span>
                        <span style="animation-delay: 1s"></span>
                        <span style="animation-delay: 1.5s"></span>
                        <span style="animation-delay: 2s"></span>
                        <span style="animation-delay: 2.5s"></span>
                        <span style="animation-delay: 3s"></span>
                        <span style="animation-delay: 3.5s"></span>
                        <span style="animation-delay: 4s"></span>
                        <span style="animation-delay: 4.5s"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Floating Menu -->
<div class="floating-menu-container">
    <button class="floating-menu-toggle" id="floatingMenuToggle">
        <i class="fas fa-globe"></i>
    </button>
    
    <div class="floating-menu-popup" id="floatingMenuPopup">
        <div class="floating-menu-header">
            <button class="floating-menu-close" onclick="closeFloatingMenu()">
                <i class="fas fa-chevron-left"></i>
            </button>
            <h3 class="floating-menu-title">CheatiOSVip.Com</h3>
            <p class="floating-menu-subtitle" id="typingSubtitle"></p>
        </div>
        
        <div class="floating-menu-items">
            <div class="floating-menu-item menu-item-payment" onclick="togglePaymentSubmenu()">
                <div class="floating-menu-item-icon">
                    <i class="fas fa-credit-card"></i>
                </div>
                <div class="floating-menu-item-content">
                    <div class="floating-menu-item-title">Nạp Bank - Card</div>
                    <div class="floating-menu-item-desc">Nạp tiền qua Bank hoặc Card</div>
                </div>
                <div class="floating-menu-item-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            
            <div class="floating-menu-submenu" id="paymentSubmenu">
                <a href="#" onclick="event.preventDefault(); checkLoginAndRedirect('https://cheatiosvip.com/recharge/bank')" class="floating-menu-item menu-item-bank-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Nạp Bank</div>
                        <div class="floating-menu-item-desc">Nạp tiền qua ATM/Internet Banking</div>
                    </div>
                </a>
                
                <a href="#" onclick="event.preventDefault(); checkLoginAndRedirect('https://cheatiosvip.com/recharge/card')" class="floating-menu-item menu-item-card-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Nạp Card</div>
                        <div class="floating-menu-item-desc">Nạp tiền qua thẻ cào điện thoại</div>
                    </div>
                </a>
            </div>
            
            <div class="floating-menu-item menu-item-tools" onclick="toggleToolsSubmenu()">
                <div class="floating-menu-item-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <div class="floating-menu-item-content">
                    <div class="floating-menu-item-title">Công Cụ Đa Năng</div>
                    <div class="floating-menu-item-desc">Các công cụ hỗ trợ</div>
                </div>
                <div class="floating-menu-item-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            
            <div class="floating-menu-submenu" id="toolsSubmenu">
                <a href="#" onclick="event.preventDefault(); checkLoginAndRedirect('https://cheatiosvip.com/tools/menu-changer')" class="floating-menu-item menu-item-crack-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-lock-open"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Crack - Phá Bảo Mật</div>
                        <div class="floating-menu-item-desc">Công cụ crack ứng dụng</div>
                    </div>
                </a>
                
                <a href="#" onclick="event.preventDefault(); checkLoginAndRedirect('https://cheatiosvip.com/tools/image-uploader.php')" class="floating-menu-item menu-item-upload-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Up Ảnh Lấy Link</div>
                        <div class="floating-menu-item-desc">Upload ảnh và tạo link</div>
                    </div>
                </a>
                
                <a href="#" onclick="event.preventDefault(); checkLoginAndRedirect('https://cheatiosvip.com/tools/app-signer.php')" class="floating-menu-item menu-item-sign-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-signature"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Ký Ứng Dụng</div>
                        <div class="floating-menu-item-desc">Ký và cài đặt ứng dụng</div>
                    </div>
                </a>
            </div>
            
            <div class="floating-menu-item menu-item-admin" onclick="toggleAdminSubmenu()">
                <div class="floating-menu-item-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="floating-menu-item-content">
                    <div class="floating-menu-item-title">Liên Hệ Admin</div>
                    <div class="floating-menu-item-desc">Hỗ trợ và tư vấn</div>
                </div>
                <div class="floating-menu-item-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            
            <div class="floating-menu-submenu" id="adminSubmenu">
                <a href="https://t.me/canhioscrack" class="floating-menu-item menu-item-telegram-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Telegram Admin</div>
                        <div class="floating-menu-item-desc">Liên hệ trực tiếp admin</div>
                    </div>
                </a>
                
                <a href="https://t.me/hackioscheatvip" class="floating-menu-item menu-item-group-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Nhóm Chat</div>
                        <div class="floating-menu-item-desc">Tham gia nhóm thảo luận</div>
                    </div>
                </a>
                
                <a href="https://t.me/crackcyipa" class="floating-menu-item menu-item-channel-sub">
                    <div class="floating-menu-item-icon">
                        <i class="fas fa-broadcast-tower"></i>
                    </div>
                    <div class="floating-menu-item-content">
                        <div class="floating-menu-item-title">Kênh Thông Báo</div>
                        <div class="floating-menu-item-desc">Cập nhật tin tức mới nhất</div>
                    </div>
                </a>
            </div>
            
            <a href="https://t.me/canhioscrack" class="floating-menu-item menu-item-buy">
                <div class="floating-menu-item-icon">
                    <i class="fas fa-shopping-bag"></i>
                </div>
                <div class="floating-menu-item-content">
                    <div class="floating-menu-item-title">Buy Scr Website - Thuê</div>
                    <div class="floating-menu-item-desc">Thuê source code website</div>
                </div>
            </a>
        </div>
    </div>
</div>

<script>
// Typing animation functions
class TypingAnimation {
    constructor(elementId, text, speed = 100) {
        this.element = document.getElementById(elementId);
        this.text = text;
        this.speed = speed;
        this.isTyping = false;
        this.currentIndex = 0;
        this.isDeleting = false;
    }

    start() {
        this.isTyping = true;
        this.type();
    }

    type() {
        if (!this.isTyping) return;

        if (!this.isDeleting) {
            // Typing phase
            if (this.currentIndex < this.text.length) {
                this.element.textContent = this.text.substring(0, this.currentIndex + 1);
                this.currentIndex++;
                setTimeout(() => this.type(), this.speed);
            } else {
                // Wait before deleting
                setTimeout(() => {
                    this.isDeleting = true;
                    this.type();
                }, 2000);
            }
        } else {
            // Deleting phase
            if (this.currentIndex > 0) {
                this.element.textContent = this.text.substring(0, this.currentIndex - 1);
                this.currentIndex--;
                setTimeout(() => this.type(), this.speed / 2);
            } else {
                // Wait before typing again
                setTimeout(() => {
                    this.isDeleting = false;
                    this.type();
                }, 500);
            }
        }
    }

    stop() {
        this.isTyping = false;
    }
}

// Check if user is logged in and redirect accordingly
function checkLoginAndRedirect(url) {
            // User is not logged in, redirect to login page
        window.location.href = 'https://cheatiosvip.com/auth/login';
    }

// Event Popup functions
function showEventPopup() {
    const popup = document.getElementById('eventPopup');
    popup.classList.add('show');
    // Block body scroll and interactions
    document.body.style.overflow = 'hidden';
    document.body.style.pointerEvents = 'none';
    document.body.style.touchAction = 'none';
    // Allow popup interactions only
    popup.style.pointerEvents = 'auto';
}

function closeEventPopup() {
    const popup = document.getElementById('eventPopup');
    popup.classList.remove('show');
    // Restore body scroll and interactions
    document.body.style.overflow = '';
    document.body.style.pointerEvents = '';
    // Remove touch action restrictions
    document.body.style.touchAction = '';
    // Không lưu cookie khi nhấn OK - popup sẽ hiện lại lần sau
}

function remindLater() {
    const popup = document.getElementById('eventPopup');
    popup.classList.remove('show');
    // Restore body scroll and interactions
    document.body.style.overflow = '';
    document.body.style.pointerEvents = '';
    document.body.style.touchAction = '';
    // Set cookie để ẩn popup trong 3 giờ
    document.cookie = "eventPopupRemind=true; expires=" + new Date(Date.now() + 10800000).toUTCString() + "; path=/";
}

function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
    return null;
}

// Show event popup when page loads (only on homepage)
window.addEventListener('load', function() {
    // Kiểm tra nếu đang ở trang chủ
    const currentPath = window.location.pathname;
    const currentUrl = window.location.href;
    
    // Chỉ hiển thị popup trên trang chủ:
    // - Trang chủ (/, /index.php)
    const isHomePage = currentPath === '/' || 
                       currentPath === '/index.php' || 
                       (currentPath === '' && !currentUrl.includes('?') && !currentUrl.includes('#'));
    
    console.log('Homepage - Current path:', currentPath);
    console.log('Homepage - Current URL:', currentUrl);
    console.log('Homepage - Is home page for popup:', isHomePage);
    
    // Chỉ hiển thị popup ở trang chủ
    if (isHomePage) {
        // Chỉ kiểm tra cookie "remind later"
        const remindLater = getCookie('eventPopupRemind');
        
        console.log('Homepage - Remind later cookie:', remindLater);
        
        // Nếu không có cookie "remind later" thì hiển thị popup
        if (!remindLater) {
            setTimeout(() => {
                console.log('Homepage - Showing event popup...');
                showEventPopup();
            }, 1500); // Show after 1.5 seconds
        }
    } else {
        console.log('Homepage - Not on homepage - popup will not show');
    }
});

// Allow clicking anywhere to close popup (Desktop)
document.addEventListener('click', function(event) {
    const popup = document.getElementById('eventPopup');
    const popupContent = document.querySelector('.event-popup');
    
    // If popup is showing and click is outside popup content, close it
    if (popup.classList.contains('show') && !popupContent.contains(event.target)) {
        closeEventPopup();
    }
});

// Enhanced mobile touch support for closing popup
let globalTouchStart = { x: 0, y: 0, time: 0 };

// Track touch start globally
document.addEventListener('touchstart', function(event) {
    const popup = document.getElementById('eventPopup');
    if (popup.classList.contains('show')) {
        globalTouchStart.x = event.touches[0].clientX;
        globalTouchStart.y = event.touches[0].clientY;
        globalTouchStart.time = Date.now();
        isSwipeGesture = false; // Reset swipe flag
    }
}, { passive: true });

// Allow touching anywhere to close popup (Mobile) - only on TAP, not SWIPE
document.addEventListener('touchend', function(event) {
    const popup = document.getElementById('eventPopup');
    const popupContent = document.querySelector('.event-popup');
    
    // If popup is showing and touch is outside popup content
    if (popup.classList.contains('show') && !popupContent.contains(event.target)) {
        const touchEndTime = Date.now();
        const touchDuration = touchEndTime - globalTouchStart.time;
        
        // Only close on TAP (quick touch without swipe movement)
        // Don't close on SWIPE (when user has moved finger significantly)
        if (!isSwipeGesture && touchDuration < 500) {
            event.preventDefault();
            closeEventPopup();
        }
    }
    
    // Reset swipe flag for next touch
    isSwipeGesture = false;
}, { passive: false });

// Track touch movement to distinguish between tap and swipe
let isSwipeGesture = false;

document.addEventListener('touchmove', function(event) {
    const popup = document.getElementById('eventPopup');
    const popupContent = document.querySelector('.event-popup');
    
    if (popup.classList.contains('show')) {
        const currentX = event.touches[0].clientX;
        const currentY = event.touches[0].clientY;
        const deltaX = Math.abs(currentX - globalTouchStart.x);
        const deltaY = Math.abs(currentY - globalTouchStart.y);
        
        // If movement is significant, mark as swipe (don't close popup)
        if (deltaX > 10 || deltaY > 10) {
            isSwipeGesture = true;
        }
        
        // Only prevent scrolling, don't close popup on swipe
        if (!popupContent.contains(event.target)) {
            event.preventDefault();
        }
    }
}, { passive: false });

// Prevent scrolling when popup is open
document.addEventListener('wheel', function(event) {
    const popup = document.getElementById('eventPopup');
    if (popup.classList.contains('show')) {
        event.preventDefault();
        event.stopPropagation();
        return false;
    }
}, { passive: false });

// Prevent keyboard navigation when popup is open
document.addEventListener('keydown', function(event) {
    const popup = document.getElementById('eventPopup');
    if (popup.classList.contains('show')) {
        // Only allow ESC key to close popup
        if (event.key === 'Escape') {
            closeEventPopup();
        } else {
            event.preventDefault();
            event.stopPropagation();
            return false;
        }
    }
});

// Handle touch cancel - reset swipe flag
document.addEventListener('touchcancel', function(event) {
    isSwipeGesture = false;
}, { passive: true });

// Additional mobile support - handle overlay clicks/touches and swipes
document.addEventListener('DOMContentLoaded', function() {
    const overlay = document.getElementById('eventPopup');
    const popupContent = document.querySelector('.event-popup');
    
    let touchStartX = 0;
    let touchStartY = 0;
    let touchStartTime = 0;
    
    // Handle touch start for both tap and swipe detection
    overlay.addEventListener('touchstart', function(event) {
        if (event.target === overlay) {
            touchStartX = event.touches[0].clientX;
            touchStartY = event.touches[0].clientY;
            touchStartTime = Date.now();
        }
    }, { passive: true });
    
    // Handle touch end - only close on TAP, not on SWIPE
    overlay.addEventListener('touchend', function(event) {
        if (event.target === overlay) {
            const touchEndTime = Date.now();
            const touchDuration = touchEndTime - touchStartTime;
            
            // Only close if it's a quick TAP without swipe movement
            if (!isSwipeGesture && touchDuration < 500) {
                event.preventDefault();
                closeEventPopup();
            }
            
            // Reset swipe flag
            isSwipeGesture = false;
        }
    }, { passive: false });
    
    // Handle touch move - detect swipe gestures (but don't close popup)
    overlay.addEventListener('touchmove', function(event) {
        if (event.target === overlay) {
            const touchX = event.touches[0].clientX;
            const touchY = event.touches[0].clientY;
            const deltaX = Math.abs(touchX - touchStartX);
            const deltaY = Math.abs(touchY - touchStartY);
            
            // If there's significant movement, mark as swipe but DON'T close popup
            if (deltaX > 10 || deltaY > 10) {
                isSwipeGesture = true;
                // Prevent default behavior but don't close popup
                event.preventDefault();
            }
        }
    }, { passive: false });
    
    // Handle overlay click on desktop
    overlay.addEventListener('click', function(event) {
        // Only close if clicking the overlay itself, not the popup content
        if (event.target === overlay) {
            closeEventPopup();
        }
    });
    
    // Prevent popup content from closing when touched/swiped
    if (popupContent) {
        popupContent.addEventListener('touchstart', function(event) {
            event.stopPropagation();
        });
        
        popupContent.addEventListener('touchmove', function(event) {
            event.stopPropagation();
        });
        
        popupContent.addEventListener('touchend', function(event) {
            event.stopPropagation();
        });
        
        popupContent.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    }
});

// Global typing animation variables
let subtitleTyping = null;

// Floating Menu JavaScript
document.addEventListener('DOMContentLoaded', function() {
    const floatingMenuToggle = document.getElementById('floatingMenuToggle');
    const floatingMenuPopup = document.getElementById('floatingMenuPopup');
    let isFloatingMenuOpen = false;
    
    // Initialize typing animations
    function initTypingAnimations() {
        if (subtitleTyping) subtitleTyping.stop();
        
        subtitleTyping = new TypingAnimation('typingSubtitle', 'Công Cụ Liên Kết Nhanh!', 80);
    }
    
    // Toggle floating menu
    floatingMenuToggle.addEventListener('click', function(e) {
        e.stopPropagation();
        toggleFloatingMenu();
    });
    
    function toggleFloatingMenu() {
        isFloatingMenuOpen = !isFloatingMenuOpen;
        
        if (isFloatingMenuOpen) {
            floatingMenuToggle.classList.add('active');
            floatingMenuPopup.classList.add('show');
            
            // Start typing animations when menu opens
            setTimeout(() => {
                initTypingAnimations();
                if (subtitleTyping) {
                    subtitleTyping.start();
                }
            }, 300);
        } else {
            floatingMenuToggle.classList.remove('active');
            floatingMenuPopup.classList.remove('show');
            
            // Stop typing animations when menu closes
            if (subtitleTyping) subtitleTyping.stop();
        }
    }
    
    // Close floating menu when clicking outside
    document.addEventListener('click', function(e) {
        if (isFloatingMenuOpen && 
            !floatingMenuToggle.contains(e.target) && 
            !floatingMenuPopup.contains(e.target)) {
            toggleFloatingMenu();
        }
    });
    
    // Prevent menu popup from closing when clicked
    floatingMenuPopup.addEventListener('click', function(e) {
        e.stopPropagation();
    });
});

// Close floating menu function
function closeFloatingMenu() {
    const floatingMenuToggle = document.getElementById('floatingMenuToggle');
    const floatingMenuPopup = document.getElementById('floatingMenuPopup');
    
    floatingMenuToggle.classList.remove('active');
    floatingMenuPopup.classList.remove('show');
    isFloatingMenuOpen = false;
    
    // Stop typing animations
    if (subtitleTyping) subtitleTyping.stop();
    
    // Reset menu state when closing
    closeAllSubmenus();
    showAllMenuItems();
}

// Functions for menu items
function hideAllMenuItems() {
    const menuItems = document.querySelectorAll('.floating-menu-items > .floating-menu-item:not(.menu-item-active)');
    menuItems.forEach(item => {
        item.style.display = 'none';
    });
}

function showAllMenuItems() {
    const menuItems = document.querySelectorAll('.floating-menu-items > .floating-menu-item');
    menuItems.forEach(item => {
        item.style.display = 'flex';
        item.classList.remove('menu-item-active');
    });
}

function closeAllSubmenus() {
    // Close all submenus
    const submenus = document.querySelectorAll('.floating-menu-submenu');
    const arrows = document.querySelectorAll('.floating-menu-item-arrow i');
    
    submenus.forEach(submenu => {
        submenu.classList.remove('show');
    });
    
    arrows.forEach(arrow => {
        arrow.style.transform = 'rotate(0deg)';
    });
}

function togglePaymentSubmenu() {
    const submenu = document.getElementById('paymentSubmenu');
    const arrow = document.querySelector('.menu-item-payment .floating-menu-item-arrow i');
    const menuItem = document.querySelector('.menu-item-payment');
    
    if (submenu.classList.contains('show')) {
        // Close submenu and show all items
        submenu.classList.remove('show');
        arrow.style.transform = 'rotate(0deg)';
        showAllMenuItems();
    } else {
        // Close other submenus first
        closeAllSubmenus();
        // Hide other menu items
        hideAllMenuItems();
        // Mark this item as active
        menuItem.classList.add('menu-item-active');
        menuItem.style.display = 'flex';
        // Show this submenu
        submenu.classList.add('show');
        arrow.style.transform = 'rotate(90deg)';
    }
}

function toggleToolsSubmenu() {
    const submenu = document.getElementById('toolsSubmenu');
    const arrow = document.querySelector('.menu-item-tools .floating-menu-item-arrow i');
    const menuItem = document.querySelector('.menu-item-tools');
    
    if (submenu.classList.contains('show')) {
        // Close submenu and show all items
        submenu.classList.remove('show');
        arrow.style.transform = 'rotate(0deg)';
        showAllMenuItems();
    } else {
        // Close other submenus first
        closeAllSubmenus();
        // Hide other menu items
        hideAllMenuItems();
        // Mark this item as active
        menuItem.classList.add('menu-item-active');
        menuItem.style.display = 'flex';
        // Show this submenu
        submenu.classList.add('show');
        arrow.style.transform = 'rotate(90deg)';
    }
}

function toggleAdminSubmenu() {
    const submenu = document.getElementById('adminSubmenu');
    const arrow = document.querySelector('.menu-item-admin .floating-menu-item-arrow i');
    const menuItem = document.querySelector('.menu-item-admin');
    
    if (submenu.classList.contains('show')) {
        // Close submenu and show all items
        submenu.classList.remove('show');
        arrow.style.transform = 'rotate(0deg)';
        showAllMenuItems();
    } else {
        // Close other submenus first
        closeAllSubmenus();
        // Hide other menu items
        hideAllMenuItems();
        // Mark this item as active
        menuItem.classList.add('menu-item-active');
        menuItem.style.display = 'flex';
        // Show this submenu
        submenu.classList.add('show');
        arrow.style.transform = 'rotate(90deg)';
    }
}

function showBankPopup() {
    alert('🏦 Dịch vụ Bank & API Thanh toán\n\n💳 Mua bank quây chất lượng cao\n🔐 Bank ảo an toàn, bảo mật\n⚡ API thanh toán tự động\n📞 Liên hệ để được tư vấn!');
}

function showAdsPopup() {
    alert('📢 Dịch vụ Quảng cáo\n\n🎯 Đặt quảng cáo trên website\n📈 Tăng độ nhận diện thương hiệu\n💰 Giá cả cạnh tranh\n📱 Liên hệ ngay để đặt quảng cáo!');
}

function showCrackPopup() {
    alert('🔓 Công cụ Crack - Phá Bảo Mật\n\n🛠️ Crack các ứng dụng iOS/Android\n🔐 Phá bảo mật và unlock tính năng\n⚡ Hỗ trợ đa dạng định dạng\n📞 Liên hệ để được hỗ trợ crack!');
}

function showUploadPopup() {
    alert('☁️ Up Ảnh Lấy Link\n\n📸 Upload ảnh nhanh chóng\n🔗 Tạo link chia sẻ tức thì\n💾 Lưu trữ an toàn, bảo mật\n📱 Hỗ trợ mọi định dạng ảnh!');
}

function showSignPopup() {
    alert('✍️ Ký Ứng Dụng\n\n📱 Ký ứng dụng iOS/Android\n🔒 Certificate chính thức\n⚡ Cài đặt không cần jailbreak\n🎯 Hỗ trợ ký hàng loạt!');
}

function showContactPopup() {
    alert('📞 Liên hệ hỗ trợ\n\n💬 Telegram: @canhioscrack\n📢 Kênh: @crackcyipa\n⏰ Hỗ trợ 24/7\n🎯 Tư vấn miễn phí!');
}
</script>

<!-- main-area-end -->
<!-- footer-area -->
<!--
<footer class="home-six-footer">
    <div class="footer-top footer-bg">
        <div class="newsletter-area s-newsletter-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="newsletter-wrap">
                            <div class="section-title newsletter-title">
                                <h2>THÍCH THÌ <span>HACK </span></h2>
                            </div>
                            <div class="newsletter-form">
                                <form action="#">
                                    <div class="newsletter-form-grp">
                                        <i class="fa fa-youtube-play"></i>
                                        <input type="text"
                                            placeholder="https://www.youtube.com/@114hack" readonly>
                                    </div>
                                    <button type="button"
                                        onclick="location.href='https://www.youtube.com/@114hack'">SUBSCRIBE
                                        <i class="fas fa-paper-plane"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-xl-3 col-lg-4 col-md-6">
                    <div class="footer-widget mb-50">
                        <div class="footer-logo mb-35">
                            <a href="https://cheatiosvip.com/"><img width="100%"
                                    src="https://cheatiosvip.com//upload/theme/logo_light_KU2.png" alt=""></a>
                        </div>
                        <div class="footer-text">
                            <p>HỆ THỐNG BÁN PHẦN MỀM HỖ TRỢ CHƠI GAME GIÚP BẠN DỄ DÀNG CHIẾN THẮNG  </p>
                            <div class="footer-contact">
                                <ul>
                                    <li><i class="fas fa-headphones"></i> <span>Phone :
                                        </span></li>
                                    <li><i class="fas fa-envelope-open"></i><span>Email : </span><a href=""
                                            class="__cf_email__"
                                            data-cfemail="f79e999198b7928f929a879b92d994989a">[canhioshihi@gmail.com]</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-2 col-lg-3 col-sm-6">
                    <div class="footer-widget mb-50">
                        <div class="fw-title mb-35">
                            <h5>Danh mục</h5>
                        </div>
                        <div class="fw-link">
                            <ul>
                                                                <li><a href="/cate/hack-free-fire">Hack Free Fire</a>
                                </li>
                                                                <li><a href="/cate/hack-lien-quan-mobile">Hack Liên Quân Mobile</a>
                                </li>
                                                                <li><a href="/cate/hack-playtoger">Hack Playtoger</a>
                                </li>
                                                                <li><a href="/cate/-hack-8-ballpool">Hack  8 BallPool</a>
                                </li>
                                                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-xl-2 col-lg-3 col-sm-6">
                    <div class="footer-widget mb-50">
                        <div class="fw-title mb-35">
                            <h5>Dịch vụ</h5>
                        </div>
                        <div class="fw-link">
                            <ul>

                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-4 col-md-6">
                    <div class="footer-widget mb-50">
                        <div class="fw-title mb-35">
                            <h5>Theo dõi</h5>
                        </div>
                        <div class="footer-social">
                            <ul>
                                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fab fa-pinterest-p"></i></a></li>
                                <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="copyright-wrap s-copyright-wrap">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <div class="copyright-text">
                        <p>Software By <a href="#">CHEATIOSVIP.COM </a> | Version <b>1.0</b></p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</footer>
-->

<style>
:root {
    --bg: #0f0f23;
    --panel: #1a1a2e;
    --muted: #a8b2d1;
    --text: #ffffff;
    --accent: #00d4aa;
    --accent-secondary: #667eea;
    --danger: #ff6b6b;
    --warning: #fbbf24;
    --success: #22c55e;
    --glass: rgba(255, 255, 255, 0.1);
}

/* Modern Footer */
.modern-footer {
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
    position: relative;
    overflow: hidden;
    padding: 60px 20px 20px;
    color: var(--text);
    font-family: "Inter", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

.modern-footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, rgba(0, 212, 170, 0.2), transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(102, 126, 234, 0.2), transparent),
        radial-gradient(1px 1px at 90px 40px, rgba(0, 212, 170, 0.15), transparent);
    background-repeat: repeat;
    background-size: 200px 150px;
    animation: floatFooter 25s infinite linear;
    pointer-events: none;
    z-index: 0;
}

@keyframes floatFooter {
    0% { transform: translateY(0px) translateX(0px); }
    25% { transform: translateY(-10px) translateX(8px); }
    50% { transform: translateY(0px) translateX(-8px); }
    75% { transform: translateY(10px) translateX(8px); }
    100% { transform: translateY(0px) translateX(0px); }
}

.footer-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    margin-bottom: 40px;
}

.footer-card {
    background: linear-gradient(145deg, rgba(26, 26, 46, 0.95) 0%, rgba(22, 33, 62, 0.95) 100%);
    border: 1px solid rgba(0, 212, 170, 0.3);
    border-radius: 20px;
    padding: 30px;
    backdrop-filter: blur(20px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 212, 170, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.footer-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.05), rgba(102, 126, 234, 0.05));
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 20px;
    z-index: 0;
}

.footer-card:hover::before {
    opacity: 1;
}

.footer-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 8px 25px rgba(0, 212, 170, 0.2);
    border-color: rgba(0, 212, 170, 0.5);
}

.footer-card > * {
    position: relative;
    z-index: 1;
}

.footer-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid rgba(0, 212, 170, 0.2);
}

.footer-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 12px;
    font-size: 1.3rem;
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    min-width: 40px;
    min-height: 40px;
}

.footer-icon.about {
    background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
    color: #ffffff;
    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
}

.footer-icon.connect {
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    color: #ffffff;
    box-shadow: 0 5px 15px rgba(0, 212, 170, 0.4);
}

.footer-icon.contact {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #ffffff;
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

.footer-icon.stats {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: #ffffff;
    box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4);
}

/* Premium Statistics Grid */
.footer-stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 10px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(0, 212, 170, 0.2);
    border-radius: 12px;
    padding: 15px;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
}

.stat-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 170, 0.1), transparent);
    transition: left 0.5s;
}

.stat-item:hover::before {
    left: 100%;
}

.stat-item:hover {
    border-color: rgba(0, 212, 170, 0.5);
    box-shadow: 0 8px 25px rgba(0, 212, 170, 0.2);
    transform: translateY(-3px);
}

.stat-number {
    font-size: 1.4rem;
    font-weight: 800;
    color: #00d4aa;
    margin-bottom: 8px;
    background: linear-gradient(135deg, #00d4aa 0%, #3b82f6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
    min-height: 1.4rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.stat-number .fa-spinner {
    color: #00d4aa;
    font-size: 1.2rem;
}

.stat-label {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}

.stat-label i {
    color: #00d4aa;
    font-size: 0.9rem;
}

.footer-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0;
    /* Removed text-transform: uppercase to preserve Vietnamese diacritics */
    letter-spacing: 1px;
    background: linear-gradient(135deg, #00d4aa 0%, #667eea 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.footer-content {
    color: rgba(255, 255, 255, 0.85);
    line-height: 1.7;
    font-size: 1rem;
}

.footer-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-list li {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 0;
    color: rgba(255, 255, 255, 0.8);
    font-size: 1rem;
    transition: all 0.3s ease;
    cursor: pointer;
}

.footer-list li:hover {
    color: var(--accent);
    transform: translateX(5px);
}

.footer-list li a {
    color: inherit;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    transition: all 0.3s ease;
}

.footer-list li a:hover {
    color: var(--accent);
    text-decoration: none;
}

.footer-list li i {
    color: var(--accent);
    font-size: 1.1rem;
    width: 20px;
    text-align: center;
}

.footer-contact-info {
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(102, 126, 234, 0.1));
    border-left: 4px solid var(--accent);
    padding: 15px 20px;
    border-radius: 8px;
    margin-top: 15px;
}

.footer-contact-info strong {
    color: #ffffff;
    font-weight: 700;
    font-size: 1.1rem;
    display: block;
    margin-bottom: 5px;
}

/* Footer Bottom */
.footer-bottom {
    border-top: 1px solid rgba(0, 212, 170, 0.2);
    padding-top: 30px;
    text-align: center;
}

.footer-copyright {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.95rem;
    margin: 0;
    padding: 15px 0;
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(22, 33, 62, 0.8));
    border-radius: 10px;
    border: 1px solid rgba(0, 212, 170, 0.1);
    backdrop-filter: blur(10px);
}

.footer-copyright strong {
    color: var(--accent);
    font-weight: 700;
}

/* Responsive Design */
@media (max-width: 768px) {
    .footer-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .footer-card {
        padding: 25px;
    }
    
    .footer-title {
        font-size: 1.2rem;
    }
    
    .modern-footer {
        padding: 40px 15px 15px;
    }
    
    .footer-stats-grid {
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    
    .stat-item {
        padding: 12px;
    }
    
    .stat-number {
        font-size: 1.2rem;
    }
    
    .stat-label {
        font-size: 0.8rem;
    }
}

@media (max-width: 480px) {
    .footer-card {
        padding: 20px;
    }
    
    .footer-header {
        margin-bottom: 15px;
    }
    
    .footer-icon {
        width: 35px;
        height: 35px;
    }
    
    .footer-stats-grid {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    .stat-item {
        padding: 10px;
    }
    
    .stat-number {
        font-size: 1.1rem;
    }
    
    .stat-label {
        font-size: 0.75rem;
        gap: 4px;
    }
}
        height: 35px;
        font-size: 1rem;
    }
    
    .footer-title {
        font-size: 1.1rem;
        letter-spacing: 0.5px;
    }
}

/* Live data indicator styles */
.footer-card.stats-live {
    position: relative;
}

.footer-card.stats-live::after {
    content: 'LIVE';
    position: absolute;
    top: 15px;
    right: 20px;
    background: linear-gradient(135deg, #00ff88, #00cc6a);
    color: #000;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 12px;
    animation: livePulse 2s infinite;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
    z-index: 10;
}

.footer-card.stats-fallback::after {
    content: 'DEMO';
    position: absolute;
    top: 15px;
    right: 20px;
    background: linear-gradient(135deg, #ffaa00, #ff8800);
    color: #000;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 12px;
    opacity: 0.8;
    z-index: 10;
}

@keyframes livePulse {
    0%, 100% { 
        opacity: 1; 
        transform: scale(1);
    }
    50% { 
        opacity: 0.7; 
        transform: scale(1.05);
    }
}

/* Loading spinner for stats */
.fa-spinner {
    animation: spin 1s linear infinite;
    color: #00f5ff;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Enhanced stat item animations */
.stat-item:hover {
    transform: translateY(-3px) scale(1.02);
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(0, 212, 170, 0.5);
    box-shadow: 0 10px 25px rgba(0, 212, 170, 0.2);
}

.stat-item .stat-value {
    transition: all 0.3s ease;
}

.stat-item:hover .stat-value {
    transform: scale(1.1);
    text-shadow: 0 0 20px rgba(0, 245, 255, 0.5);
}
</style>

<!-- Force UTF-8 encoding for Vietnamese characters -->
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<footer class="modern-footer">
  <div class="footer-container">
    <div class="footer-grid">
      
      <!-- About Section -->
      <div class="footer-card">
        <div class="footer-header">
          <div class="footer-icon about">
            <i class="fas fa-info"></i>
          </div>
          <h3 class="footer-title">CHEATIOSVIP.COM</h3>
        </div>
        <div class="footer-content">
          <p>Chuyên cung cấp công cụ hỗ trợ chơi game chuyên nghiệp, bảo mật cao và chất lượng tốt nhất.</p>
          <p>Đội ngũ phát triển chuyên nghiệp với nhiều năm kinh nghiệm trong lĩnh vực game security.</p>
        </div>
      </div>

      <!-- Connect Section -->
      <div class="footer-card">
        <div class="footer-header">
          <div class="footer-icon connect">
            <i class="fas fa-link"></i>
          </div>
          <h3 class="footer-title">KET NOI</h3>
        </div>
        <div class="footer-content">
          <ul class="footer-list">
            <li><a href="https://t.me/crackcyipa" target="_blank" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 12px;"><i class="fab fa-telegram"></i> Channel Telegram</a></li>
            <li><a href="https://t.me/hackioscheatvip" target="_blank" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 12px;"><i class="fas fa-comments"></i> Group Chat</a></li>
            <li><a href="/dieu-khoan-dich-vu.php" style="color: inherit; text-decoration: none; display: flex; align-items: center; gap: 12px;"><i class="fas fa-file-contract"></i> Điều Khoản</a></li>
          </ul>
        </div>
      </div>

      <!-- Statistics Section -->
      <div class="footer-card">
        <div class="footer-header">
          <div class="footer-icon stats">
            <i class="fas fa-chart-bar"></i>
          </div>
          <h3 class="footer-title">THONG KE</h3>
        </div>
        <div class="footer-content">
          <ul class="footer-list stats-list">
            <li class="stat-list-item">
              <i class="fas fa-users"></i>
              <span class="stat-info">
                <span class="stat-label">Thành viên</span>
                <span class="stat-value" id="total-users-footer">0</span>
              </span>
            </li>
            
            <li class="stat-list-item">
              <i class="fas fa-shopping-cart"></i>
              <span class="stat-info">
                <span class="stat-label">Giao dịch</span>
                <span class="stat-value" id="total-orders-footer">0</span>
              </span>
            </li>
            
            <li class="stat-list-item">
              <i class="fas fa-key"></i>
              <span class="stat-info">
                <span class="stat-label">Key còn lại</span>
                <span class="stat-value" id="available-keys-footer">0</span>
              </span>
            </li>
            
            <li class="stat-list-item">
              <i class="fas fa-calendar-alt"></i>
              <span class="stat-info">
                <span class="stat-label">Ngày hoạt động</span>
                <span class="stat-value" id="days-active-footer">0</span>
              </span>
            </li>
            
            <li class="stat-list-item">
              <i class="fas fa-user-friends"></i>
              <span class="stat-info">
                <span class="stat-label">Account còn lại</span>
                <span class="stat-value" id="available-accounts-footer">0</span>
              </span>
            </li>
          </ul>
          
          <div class="stats-update-info">
            <i class="fas fa-sync-alt"></i> 
            <span>Cập nhật: <span id="lastUpdate-footer">--:--:--</span></span>
          </div>
        </div>
      </div>
      </div>

    </div>

    <!-- Footer Bottom -->
    <div class="footer-bottom">
      <p class="footer-copyright">
        ©2024 <strong>CHEATIOSVIP.COM</strong> - Tất cả các quyền được bảo lưu.
      </p>
    </div>
  </div>
</footer>



<!-- JS here -->
<script src="https://cheatiosvip.com//assets/frontend/js/toastr.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/ajax.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.validate.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/popper.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/bootstrap.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/isotope.pkgd.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/slick.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.meanmenu.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/wow.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/aos.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.lettering.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.textillate.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.odometer.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.appear.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/owl.carousel.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.countdown.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.scrollUp.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/imagesloaded.pkgd.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/jquery.magnific-popup.min.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/plugins.js"></script>
<script src="https://cheatiosvip.com//assets/frontend/js/main.js"></script>
<!-- Back to Top Button -->
<div class="back-to-top">
    <a href="#" class="back-to-top-btn">
    </a>
</div>

<!-- Anime Character CSS -->
<style>
.anime-character-footer {
    position: relative;
    margin-top: -530px;
    margin-left: 0;
    width: 250px;
    z-index: 100;
    pointer-events: none;
    opacity: 0.95;
    animation: slideInFromLeft 1s ease-out;
}

.anime-character-footer img {
    width: 100%;
    height: auto;
    display: block;
    filter: drop-shadow(2px 2px 10px rgba(0, 0, 0, 0.3));
}

@keyframes slideInFromLeft {
    0% { transform: translateX(-100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 0.95; }
}

/* Mobile responsive */
@media (max-width: 768px) {
    .anime-character-footer { 
        width: 150px; 
        margin-top: -500px;
        margin-left: 10px;
    }
}

@media (max-width: 480px) {
    .anime-character-footer { 
        width: 120px; 
        opacity: 0.8;
        margin-top: -1100px;
        margin-left: 15px;
    }
}

@media (max-width: 320px) {
    .anime-character-footer { 
        width: 100px;
        margin-top: -280px;
        margin-left: 10px;
    }
}

/* Statistics Box Modern Styles - Consistent with Connect Section */
.stats-list {
    margin: 0;
    padding: 0;
}

.stat-list-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 0;
    color: rgba(255, 255, 255, 0.8);
    font-size: 1rem;
    transition: all 0.3s ease;
    cursor: pointer;
    border-radius: 8px;
    margin: 0 -5px;
    padding-left: 5px;
    padding-right: 5px;
}

.stat-list-item:hover {
    color: var(--accent);
    transform: translateX(5px);
    background: rgba(0, 212, 170, 0.1);
}

.stat-list-item i {
    color: var(--accent);
    font-size: 1.1rem;
    width: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.stat-list-item:hover i {
    transform: scale(1.1);
    color: #ffffff;
}

.stat-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex: 1;
    gap: 10px;
}

.stat-label {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
    transition: color 0.3s ease;
}

.stat-list-item:hover .stat-label {
    color: #ffffff;
}

.stat-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--accent);
    background: linear-gradient(135deg, #00d4aa 0%, #3b82f6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    min-width: 40px;
    text-align: right;
    transition: all 0.3s ease;
}

.stat-list-item:hover .stat-value {
    transform: scale(1.05);
    text-shadow: 0 0 15px rgba(0, 212, 170, 0.5);
    filter: brightness(1.2);
}

/* Mobile-optimized Stats - Ensures consistency across devices */
@media (max-width: 768px) {
    .stats-list {
        margin: 15px 0;
    }
    
    .stat-list-item {
        padding: 10px 8px;
        font-size: 0.95rem;
        gap: 10px;
    }
    
    .stat-list-item i {
        font-size: 1rem;
        width: 18px;
    }
    
    .stat-value {
        font-size: 1rem !important;
        min-width: 35px !important;
        font-weight: 600 !important;
    }
    
    .stat-label {
        font-size: 0.95rem;
    }
    
    /* Enhanced mobile stats loading */
    .stats-live .stat-value {
        animation: mobileStatsGlow 2s ease-in-out infinite alternate;
    }
    
    .stats-fallback {
        opacity: 0.9;
    }
    
    .stats-fallback .stat-value {
        color: rgba(255, 193, 7, 0.8) !important;
        background: none !important;
        -webkit-text-fill-color: rgba(255, 193, 7, 0.8) !important;
    }
}

@keyframes mobileStatsGlow {
    0% { text-shadow: 0 0 5px rgba(0, 212, 170, 0.5); }
    100% { text-shadow: 0 0 15px rgba(0, 212, 170, 0.8), 0 0 25px rgba(0, 212, 170, 0.3); }
}

/* Loading spinner optimization for mobile */
@media (max-width: 768px) {
    .fa-spinner {
        font-size: 0.9rem !important;
        animation-duration: 1.5s !important;
    }
}

.stats-update-info {
    margin-top: 20px;
    padding: 12px 15px;
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(102, 126, 234, 0.1));
    border-left: 3px solid var(--accent);
    border-radius: 8px;
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    display: flex;
    align-items: center;
    gap: 8px;
}

.stats-update-info i {
    color: var(--accent);
    animation: spin 2s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Loading spinner for stats */
.stat-value .fa-spinner {
    animation: spin 1s linear infinite;
    color: var(--accent);
    font-size: 1rem;
}

/* Live indicator for stats section */
.footer-card.stats-live::after {
    content: 'LIVE';
    position: absolute;
    top: 15px;
    right: 20px;
    background: linear-gradient(135deg, #00ff88, #00cc6a);
    color: #000;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 12px;
    animation: livePulse 2s infinite;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
    z-index: 10;
}

.footer-card.stats-fallback::after {
    content: 'CACHE';
    position: absolute;
    top: 15px;
    right: 20px;
    background: linear-gradient(135deg, #ffaa00, #ff8800);
    color: #000;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 12px;
    opacity: 0.8;
    z-index: 10;
}

@keyframes livePulse {
    0%, 100% { 
        opacity: 1; 
        transform: scale(1);
    }
    50% { 
        opacity: 0.7; 
        transform: scale(1.05);
    }
}

/* Mobile responsive for stats */
@media (max-width: 768px) {
    .stat-list-item {
        padding: 10px 0;
        font-size: 0.95rem;
    }
    
    .stat-info {
        gap: 8px;
    }
    
    .stat-value {
        font-size: 1rem;
        min-width: 35px;
    }
    
    .stat-label {
        font-size: 0.95rem;
    }
    
    .stats-update-info {
        font-size: 0.85rem;
        padding: 10px 12px;
    }
}

@media (max-width: 480px) {
    .stat-list-item {
        padding: 8px 0;
        font-size: 0.9rem;
    }
    
    .stat-value {
        font-size: 0.95rem;
        min-width: 30px;
    }
    
    .stat-label {
        font-size: 0.9rem;
    }
}
</style>

<!-- Anime Character in Bottom Left Corner -->
<div class="anime-character-footer">
    <img src="https://i.imgur.com/nm1AujB.png" alt="Anime Character" loading="lazy">
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<script>
// Back to Top Button Functionality - Override any existing scrollUp
$(document).ready(function() {
    // Remove any existing scrollUp elements
    $('#scrollUp, .scrollUp').remove();
    
    // Ensure our back-to-top button is visible
    if ($('.back-to-top').length === 0) {
        $('body').append('<div class="back-to-top"><a href="#" class="back-to-top-btn"><i class="fas fa-chevron-up"></i></a></div>');
    }
    
    // Back to top click handler
    $(".back-to-top, .back-to-top a").click(function(e) {
        e.preventDefault();
        e.stopPropagation();
        $("html, body").animate({
            scrollTop: 0
        }, 800, 'easeInOutCubic');
        return false;
    });

    // Show/hide back to top button on scroll
    $(window).scroll(function() {
        var scrollPosition = $(window).scrollTop();
        var windowHeight = $(window).height();
        
        // Show button when scrolled down more than 300px or 25% screen height
        if (scrollPosition > Math.max(300, windowHeight * 0.25)) {
            $(".back-to-top").addClass("display").css({
                'visibility': 'visible',
                'opacity': '1',
                'pointer-events': 'all'
            });
        } else {
            $(".back-to-top").removeClass("display").css({
                'visibility': 'hidden',
                'opacity': '0',
                'pointer-events': 'none'
            });
        }
    });

    // Add smooth easing function if not available
    if (!$.easing.easeInOutCubic) {
        $.easing.easeInOutCubic = function (x, t, b, c, d) {
            if ((t/=d/2) < 1) return c/2*t*t*t + b;
            return c/2*((t-=2)*t*t + 2) + b;
        };
    }
    
    // Force initial state
    $(window).trigger('scroll');
    
    // Statistics Counter Animation
    function animateCounter(element, target, duration = 2000) {
        const start = parseInt(element.textContent.replace(/,/g, '')) || 0;
        const range = target - start;
        const startTime = performance.now();
        
        function updateCounter() {
            const elapsed = performance.now() - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            // Easing function for smooth animation
            const easeOutQuart = 1 - Math.pow(1 - progress, 4);
            const current = Math.floor(start + (range * easeOutQuart));
            
            element.textContent = current.toLocaleString();
            
            if (progress < 1) {
                requestAnimationFrame(updateCounter);
            } else {
                element.textContent = target.toLocaleString();
            }
        }
        
        requestAnimationFrame(updateCounter);
    }
    
    // Load real statistics from API with caching
    let statsCache = null;
    let lastStatsLoad = 0;
    const CACHE_DURATION = 30000; // 30 seconds cache
    
    function loadRealStats(forceRefresh = false) {
        const now = Date.now();
        
        // Use cache if available and not expired
        if (!forceRefresh && statsCache && (now - lastStatsLoad < CACHE_DURATION)) {
            updateStatsDisplay(statsCache);
            console.log('Using cached stats:', statsCache);
            return;
        }
        
        // Show loading state
        showLoadingState();
        
        // Try primary API first (real database connection)
        $.ajax({
            url: '/api/stats-simple.php',
            type: 'GET',
            dataType: 'json',
            timeout: 8000,
            cache: false,
            success: function(data) {
                if (data.success && data.data_source === 'real_database') {
                    statsCache = data;
                    lastStatsLoad = now;
                    updateStatsDisplay(data);
                    console.log('✅ Real stats loaded from database:', data);
                    
                    // Set up periodic refresh for real-time updates
                    setupPeriodicRefresh();
                } else {
                    throw new Error('Database not connected, trying fallback');
                }
            },
            error: function(xhr, status, error) {
                console.warn('Primary API failed, trying backup:', error);
                
                // Fallback to backup API
                $.ajax({
                    url: '/api/stats.php',
                    type: 'GET',
                    dataType: 'json',
                    timeout: 5000,
                    success: function(data) {
                        updateStatsDisplay(data);
                        console.log('📊 Stats loaded from backup API:', data);
                    },
                    error: function() {
                        console.warn('⚠️ All APIs failed, loading real-time stats');
                        loadRealTimeStats();
                    }
                });
            }
        });
    }
    
    // Load real-time accurate stats
    function loadRealTimeStats() {
        $.ajax({
            url: '/api/real-time-stats.php',
            method: 'GET',
            timeout: 10000,
            success: function(response) {
                if (response.success) {
                    updateFooterStats(response.data);
                    console.log('✅ Real-time stats loaded successfully');
                } else {
                    console.error('❌ Real-time stats API error:', response.message);
                    loadFallbackStats();
                }
            },
            error: function() {
                console.warn('⚠️ Real-time API failed, using fallback');
                loadFallbackStats();
            }
        });
    }
    
    // Fallback stats
    function loadFallbackStats() {
        const fallbackData = {
            totalUsers: 1247,
            totalOrders: 3891,
            availableKeys: 15623,
            daysActive: 694
        };
        updateFooterStats(fallbackData);
    }
    
    // Show loading spinner state
    function showLoadingState() {
        $('#total-users-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#total-orders-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#available-keys-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#days-active-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#available-accounts-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#lastUpdate-footer').text('Đang tải...');
    }
    
    // Update footer stats display with animation
    function updateFooterStats(data) {
        if (data.total_users !== undefined) {
            // Reset all counters to 0
            $('#total-users').text('0');
            $('#total-orders').text('0');
            $('#total-products').text('0');
            $('#uptime').text('0');
            
            // Animate counters with staggered timing
            setTimeout(() => {
                animateCounter(document.getElementById('total-users'), data.total_users || 0, 1500);
            }, 100);
            
            setTimeout(() => {
                animateCounter(document.getElementById('total-orders'), data.total_orders || 0, 1700);
            }, 200);
            
            setTimeout(() => {
                animateCounter(document.getElementById('total-products'), data.total_products || 0, 1900);
            }, 300);
            
            setTimeout(() => {
                animateCounter(document.getElementById('uptime'), data.uptime_days || 0, 2100);
            }, 400);
            
            // Add visual indicator for data source
            const statsCard = $('.footer-card').has('.footer-stats-grid');
            if (data.data_source === 'real_database') {
                statsCard.addClass('stats-live').removeClass('stats-fallback');
                console.log('🔗 Connected to real database');
            } else {
                statsCard.addClass('stats-fallback').removeClass('stats-live');
                console.log('📡 Using fallback data source:', data.data_source);
            }
            
            // Log additional stats if available
            if (data.today_users) {
                console.log('👥 Today new users:', data.today_users);
            }
            if (data.total_earned) {
                console.log('💰 Total earned:', data.total_earned.toLocaleString() + ' VND');
            }
        }
    }
    
    // Set up periodic refresh for real-time updates
    let refreshInterval = null;
    function setupPeriodicRefresh() {
        if (refreshInterval) clearInterval(refreshInterval);
        
        // Refresh stats every 60 seconds when using real database
        refreshInterval = setInterval(() => {
            loadRealStats(true);
        }, 60000);
        
        console.log('🔄 Set up periodic refresh every 60 seconds');
    }
    
    // Listen for custom events that should trigger stats refresh
    function setupEventListeners() {
        // Listen for user registration events
        $(document).on('userRegistered', function() {
            console.log('🎉 User registered event detected, refreshing stats...');
            setTimeout(() => loadRealStats(true), 1000);
        });
        
        // Listen for order completion events  
        $(document).on('orderCompleted', function() {
            console.log('💳 Order completed event detected, refreshing stats...');
            setTimeout(() => loadRealStats(true), 1000);
        });
        
        // Refresh when tab becomes visible again
        $(document).on('visibilitychange', function() {
            if (!document.hidden) {
                console.log('👁️ Tab visible again, refreshing stats...');
                loadRealStats(true);
            }
        });
    }
    
    // Intersection Observer for triggering animations when visible
    const observerOptions = {
        threshold: 0.5,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
                entry.target.classList.add('animated');
                loadRealStats();
                setupEventListeners(); // Setup event listeners when stats section becomes visible
            }
        });
    }, observerOptions);
    
    // Observe stats section
    const statsSection = document.querySelector('.footer-stats-grid');
    if (statsSection) {
        statsObserver.observe(statsSection.closest('.footer-card'));
    }
    
    // Initial load and setup
    setTimeout(() => {
        if (statsSection) {
            loadRealStats();
            setupEventListeners();
        }
    }, 500);
});

// Script for new footer stats widget
$(document).ready(function() {
    // Load real-time accurate stats for footer (Enhanced for mobile compatibility)
    function loadFooterRealTimeStats() {
        // Show loading state first
        showFooterLoadingState();
        
        $.ajax({
            url: '/api/real-time-stats.php',
            method: 'GET',
            timeout: 15000, // Increased timeout for mobile
            cache: false, // Force fresh data
            headers: {
                'Cache-Control': 'no-cache',
                'Pragma': 'no-cache'
            },
            success: function(response) {
                try {
                    if (response && response.success && response.data) {
                        updateNewFooterStats(response.data);
                        console.log('✅ Footer real-time stats loaded successfully');
                        
                        // Store successful data for emergency fallback
                        localStorage.setItem('lastValidStats', JSON.stringify(response.data));
                    } else {
                        console.error('❌ Invalid response format:', response);
                        loadEmergencyStats();
                    }
                } catch (e) {
                    console.error('❌ Error processing response:', e);
                    loadEmergencyStats();
                }
            },
            error: function(xhr, status, error) {
                console.warn('⚠️ Footer real-time API failed:', status, error);
                loadEmergencyStats();
            }
        });
    }
    
    // Emergency stats fallback - try localStorage first, then hardcoded
    function loadEmergencyStats() {
        try {
            const lastValidStats = localStorage.getItem('lastValidStats');
            if (lastValidStats) {
                const data = JSON.parse(lastValidStats);
                console.log('📱 Using cached valid stats for mobile');
                updateNewFooterStats(data);
                return;
            }
        } catch (e) {
            console.warn('Failed to load cached stats:', e);
        }
        
        // Last resort: retry API once more with shorter timeout
        console.log('🔄 Retrying API call for mobile...');
        setTimeout(() => {
            $.ajax({
                url: '/api/real-time-stats.php',
                method: 'GET',
                timeout: 8000,
                success: function(response) {
                    if (response && response.success) {
                        updateNewFooterStats(response.data);
                    } else {
                        loadFooterFallbackStats();
                    }
                },
                error: function() {
                    loadFooterFallbackStats();
                }
            });
        }, 2000);
    }
    
    // Show loading state for footer
    function showFooterLoadingState() {
        $('#total-users-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#total-orders-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#available-keys-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#days-active-footer').html('<i class="fas fa-spinner fa-spin"></i>');
        $('#available-accounts-footer').html('<i class="fas fa-spinner fa-spin"></i>');
    }
    
    // Fallback stats for footer (Updated to use real data from PHP)
    function loadFooterFallbackStats() {
                
        const fallbackData = {
            totalUsers: 551,
            totalOrders: 228, 
            availableKeys: 637,
            daysActive: 67,
            availableAccounts: 1738,
            lastUpdate: new Date().toISOString()
        };
        
        console.log('📊 Using PHP-generated real stats as fallback:', fallbackData);
        updateNewFooterStats(fallbackData);
    }
    
    // Update new footer stats display (Enhanced for mobile)
    function updateNewFooterStats(data) {
        // Ensure data consistency
        const safeData = {
            totalUsers: parseInt(data.totalUsers) || 0,
            totalOrders: parseInt(data.totalOrders) || 0, 
            availableKeys: parseInt(data.availableKeys) || 0,
            daysActive: parseInt(data.daysActive) || 0,
            availableAccounts: parseInt(data.availableAccounts) || 0
        };
        
        // Debug log
        console.log('🔄 Updating footer stats:', safeData);
        
        // Animate numbers with consistent format for both mobile and desktop
        animateFooterNumber('total-users-footer', safeData.totalUsers);
        animateFooterNumber('total-orders-footer', safeData.totalOrders);
        animateFooterNumber('available-keys-footer', safeData.availableKeys);
        animateFooterNumber('days-active-footer', safeData.daysActive);
        animateFooterNumber('available-accounts-footer', safeData.availableAccounts);
        
        // Update timestamp with device-appropriate format
        if (data.lastUpdate) {
            const updateTime = new Date(data.lastUpdate).toLocaleTimeString('vi-VN', {
                hour: '2-digit',
                minute: '2-digit'
            });
            $('#lastUpdate-footer').text(updateTime);
        }
        
        // Add live indicator
        const statsCard = $('.footer-card').has('.stats-list');
        if (safeData.totalUsers > 0 && safeData.totalOrders > 0) {
            statsCard.addClass('stats-live').removeClass('stats-fallback');
            console.log('✅ Live stats displayed:', safeData);
        } else {
            statsCard.addClass('stats-fallback').removeClass('stats-live');
            console.log('⚠️ Fallback stats displayed:', safeData);
        }
    }
    
    // Animate number for footer with enhanced effects
    function animateFooterNumber(elementId, targetValue) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        const currentValue = parseInt(element.textContent.replace(/,/g, '')) || 0;
        if (currentValue !== targetValue) {
            const increment = (targetValue - currentValue) / 40;
            let current = currentValue;
            
            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= targetValue) || (increment < 0 && current <= targetValue)) {
                    current = targetValue;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current).toLocaleString('vi-VN');
            }, 40);
            
            // Add enhanced highlight effect
            const listItem = $(element).closest('.stat-list-item');
            listItem.addClass('animate__pulse animate__animated');
            setTimeout(() => {
                listItem.removeClass('animate__pulse animate__animated');
                listItem.addClass('animate__fadeIn animate__animated');
                setTimeout(() => {
                    listItem.removeClass('animate__fadeIn animate__animated');
                }, 500);
            }, 1000);
        }
    }
    
    // Initialize footer stats with mobile-optimized loading
    function initializeFooterStats() {
        // Check if mobile device
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        if (isMobile) {
            console.log('📱 Mobile device detected - optimized loading');
            // For mobile: shorter timeout, immediate fallback ready
            loadFooterRealTimeStats();
        } else {
            console.log('💻 Desktop detected - standard loading');
            loadFooterRealTimeStats();
        }
    }
    
    // Initialize footer stats
    initializeFooterStats();
    
    // Auto-refresh footer stats every 45 seconds (longer for mobile battery)
    const refreshInterval = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 45000 : 30000;
    setInterval(loadFooterRealTimeStats, refreshInterval);
});
</script>

<!-- Chat Support JavaScript - Enhanced with Emoji Picker -->
<script src="https://cheatiosvip.com/assets/js/chat-support-simple.js?v=1763016493"></script>

</body>

</html>
